!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).Slate={})}(this,(function(e){"use strict";var t={transform:function(e,t){var r=e.current,n=e.affinity;if(null!=r){var u=B.transform(r,t,{affinity:n});e.current=u,null==u&&e.unref()}}},r={transform:function(e,t){var r=e.current,n=e.affinity;if(null!=r){var u=ut.transform(r,t,{affinity:n});e.current=u,null==u&&e.unref()}}},n={transform:function(e,t){var r=e.current,n=e.affinity;if(null!=r){var u=Le.transform(r,t,{affinity:n});e.current=u,null==u&&e.unref()}}},u=new WeakMap,o=new WeakMap,i=new WeakMap,a=new WeakMap,c=new WeakMap,s=new WeakMap,f=new WeakMap;function l(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function D(e,t){return e(t={exports:{}},t.exports),t.exports}var p=D((function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n},e.exports.default=e.exports,e.exports.__esModule=!0}));l(p);var d=D((function(e){e.exports=function(e){if(Array.isArray(e))return p(e)},e.exports.default=e.exports,e.exports.__esModule=!0}));l(d);var v=D((function(e){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.default=e.exports,e.exports.__esModule=!0}));l(v);var h=D((function(e){e.exports=function(e,t){if(e){if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}},e.exports.default=e.exports,e.exports.__esModule=!0}));l(h);var C=D((function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0}));l(C);var y=l(D((function(e){e.exports=function(e){return d(e)||v(e)||h(e)||C()},e.exports.default=e.exports,e.exports.__esModule=!0}))),B={ancestors:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.reverse,n=void 0!==r&&r,u=B.levels(e,t);return u=n?u.slice(1):u.slice(0,-1)},common:function(e,t){for(var r=[],n=0;n<e.length&&n<t.length;n++){var u=e[n];if(u!==t[n])break;r.push(u)}return r},compare:function(e,t){for(var r=Math.min(e.length,t.length),n=0;n<r;n++){if(e[n]<t[n])return-1;if(e[n]>t[n])return 1}return 0},endsAfter:function(e,t){var r=e.length-1,n=e.slice(0,r),u=t.slice(0,r),o=e[r],i=t[r];return B.equals(n,u)&&o>i},endsAt:function(e,t){var r=e.length,n=e.slice(0,r),u=t.slice(0,r);return B.equals(n,u)},endsBefore:function(e,t){var r=e.length-1,n=e.slice(0,r),u=t.slice(0,r),o=e[r],i=t[r];return B.equals(n,u)&&o<i},equals:function(e,t){return e.length===t.length&&e.every((function(e,r){return e===t[r]}))},hasPrevious:function(e){return e[e.length-1]>0},isAfter:function(e,t){return 1===B.compare(e,t)},isAncestor:function(e,t){return e.length<t.length&&0===B.compare(e,t)},isBefore:function(e,t){return-1===B.compare(e,t)},isChild:function(e,t){return e.length===t.length+1&&0===B.compare(e,t)},isCommon:function(e,t){return e.length<=t.length&&0===B.compare(e,t)},isDescendant:function(e,t){return e.length>t.length&&0===B.compare(e,t)},isParent:function(e,t){return e.length+1===t.length&&0===B.compare(e,t)},isPath:function(e){return Array.isArray(e)&&(0===e.length||"number"==typeof e[0])},isSibling:function(e,t){if(e.length!==t.length)return!1;var r=e.slice(0,-1),n=t.slice(0,-1);return e[e.length-1]!==t[t.length-1]&&B.equals(r,n)},levels:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.reverse,n=void 0!==r&&r,u=[],o=0;o<=e.length;o++)u.push(e.slice(0,o));return n&&u.reverse(),u},next:function(e){if(0===e.length)throw new Error("Cannot get the next path of a root path [".concat(e,"], because it has no next index."));var t=e[e.length-1];return e.slice(0,-1).concat(t+1)},operationCanTransformPath:function(e){switch(e.type){case"insert_node":case"remove_node":case"merge_node":case"split_node":case"move_node":return!0;default:return!1}},parent:function(e){if(0===e.length)throw new Error("Cannot get the parent path of the root path [".concat(e,"]."));return e.slice(0,-1)},previous:function(e){if(0===e.length)throw new Error("Cannot get the previous path of a root path [".concat(e,"], because it has no previous index."));var t=e[e.length-1];if(t<=0)throw new Error("Cannot get the previous path of a first child path [".concat(e,"] because it would result in a negative index."));return e.slice(0,-1).concat(t-1)},relative:function(e,t){if(!B.isAncestor(t,e)&&!B.equals(e,t))throw new Error("Cannot get the relative path of [".concat(e,"] inside ancestor [").concat(t,"], because it is not above or equal to the path."));return e.slice(t.length)},transform:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e)return null;var n=y(e),u=r.affinity,o=void 0===u?"forward":u;if(0===e.length)return n;switch(t.type){case"insert_node":var i=t.path;(B.equals(i,n)||B.endsBefore(i,n)||B.isAncestor(i,n))&&(n[i.length-1]+=1);break;case"remove_node":var a=t.path;if(B.equals(a,n)||B.isAncestor(a,n))return null;B.endsBefore(a,n)&&(n[a.length-1]-=1);break;case"merge_node":var c=t.path,s=t.position;B.equals(c,n)||B.endsBefore(c,n)?n[c.length-1]-=1:B.isAncestor(c,n)&&(n[c.length-1]-=1,n[c.length]+=s);break;case"split_node":var f=t.path,l=t.position;if(B.equals(f,n)){if("forward"===o)n[n.length-1]+=1;else if("backward"!==o)return null}else B.endsBefore(f,n)?n[f.length-1]+=1:B.isAncestor(f,n)&&e[f.length]>=l&&(n[f.length-1]+=1,n[f.length]-=l);break;case"move_node":var D=t.path,p=t.newPath;if(B.equals(D,p))return n;if(B.isAncestor(D,n)||B.equals(D,n)){var d=p.slice();return B.endsBefore(D,p)&&D.length<p.length&&(d[D.length-1]-=1),d.concat(n.slice(D.length))}B.isSibling(D,p)&&(B.isAncestor(p,n)||B.equals(p,n))?B.endsBefore(D,n)?n[D.length-1]-=1:n[D.length-1]+=1:B.endsBefore(p,n)||B.equals(p,n)||B.isAncestor(p,n)?(B.endsBefore(D,n)&&(n[D.length-1]-=1),n[p.length-1]+=1):B.endsBefore(D,n)&&(B.equals(p,n)&&(n[p.length-1]+=1),n[D.length-1]-=1)}return n}},A=l(D((function(e){e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.default=e.exports,e.exports.__esModule=!0}))),g=D((function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.default=e.exports,e.exports.__esModule=!0}));l(g);var m=D((function(e){e.exports=function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,u,o=[],i=!0,a=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){a=!0,u=e}finally{try{i||null==r.return||r.return()}finally{if(a)throw u}}return o}},e.exports.default=e.exports,e.exports.__esModule=!0}));l(m);var E=D((function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0}));l(E);var F=D((function(e){e.exports=function(e,t){return g(e)||m(e,t)||h(e,t)||E()},e.exports.default=e.exports,e.exports.__esModule=!0})),b=l(F);function w(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+e+(r.length?" "+r.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function x(e){return!!e&&!!e[De]}function O(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object||"function"==typeof r&&Function.toString.call(r)===pe}(e)||Array.isArray(e)||!!e[le]||!!e.constructor[le]||N(e)||_(e))}function j(e,t,r){void 0===r&&(r=!1),0===P(e)?(r?Object.keys:de)(e).forEach((function(n){r&&"symbol"==typeof n||t(n,e[n],e)})):e.forEach((function(r,n){return t(n,r,e)}))}function P(e){var t=e[De];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:N(e)?2:_(e)?3:0}function k(e,t){return 2===P(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function S(e,t,r){var n=P(e);2===n?e.set(t,r):3===n?(e.delete(t),e.add(r)):e[t]=r}function N(e){return ae&&e instanceof Map}function _(e){return ce&&e instanceof Set}function R(e){return e.o||e.t}function I(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=ve(e);delete t[De];for(var r=de(t),n=0;n<r.length;n++){var u=r[n],o=t[u];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[u]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[u]})}return Object.create(Object.getPrototypeOf(e),t)}function T(e,t){return void 0===t&&(t=!1),L(e)||x(e)||!O(e)||(P(e)>1&&(e.set=e.add=e.clear=e.delete=M),Object.freeze(e),t&&j(e,(function(e,t){return T(t,!0)}),!0)),e}function M(){w(2)}function L(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function z(e){var t=he[e];return t||w(18,e),t}function q(){return oe}function V(e,t){t&&(z("Patches"),e.u=[],e.s=[],e.v=t)}function $(e){U(e),e.p.forEach(G),e.p=null}function U(e){e===oe&&(oe=e.l)}function W(e){return oe={p:[],l:oe,h:e,m:!0,_:0}}function G(e){var t=e[De];0===t.i||1===t.i?t.j():t.O=!0}function J(e,t){t._=t.p.length;var r=t.p[0],n=void 0!==e&&e!==r;return t.h.g||z("ES5").S(t,e,n),n?(r[De].P&&($(t),w(4)),O(e)&&(e=K(t,e),t.l||Y(t,e)),t.u&&z("Patches").M(r[De],e,t.u,t.s)):e=K(t,r,[]),$(t),t.u&&t.v(t.u,t.s),e!==fe?e:void 0}function K(e,t,r){if(L(t))return t;var n=t[De];if(!n)return j(t,(function(u,o){return Z(e,n,t,u,o,r)}),!0),t;if(n.A!==e)return t;if(!n.P)return Y(e,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var u=4===n.i||5===n.i?n.o=I(n.k):n.o;j(3===n.i?new Set(u):u,(function(t,o){return Z(e,n,u,t,o,r)})),Y(e,u,!1),r&&e.u&&z("Patches").R(n,r,e.u,e.s)}return n.o}function Z(e,t,r,n,u,o){if(x(u)){var i=K(e,u,o&&t&&3!==t.i&&!k(t.D,n)?o.concat(n):void 0);if(S(r,n,i),!x(i))return;e.m=!1}if(O(u)&&!L(u)){if(!e.h.F&&e._<1)return;K(e,u),t&&t.A.l||Y(e,u)}}function Y(e,t,r){void 0===r&&(r=!1),e.h.F&&e.m&&T(t,r)}function X(e,t){var r=e[De];return(r?R(r):e)[t]}function H(e,t){if(t in e)for(var r=Object.getPrototypeOf(e);r;){var n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Object.getPrototypeOf(r)}}function Q(e){e.P||(e.P=!0,e.l&&Q(e.l))}function ee(e){e.o||(e.o=I(e.t))}function te(e,t,r){var n=N(t)?z("MapSet").N(t,r):_(t)?z("MapSet").T(t,r):e.g?function(e,t){var r=Array.isArray(e),n={i:r?1:0,A:t?t.A:q(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},u=n,o=Ce;r&&(u=[n],o=ye);var i=Proxy.revocable(u,o),a=i.revoke,c=i.proxy;return n.k=c,n.j=a,c}(t,r):z("ES5").J(t,r);return(r?r.A:q()).p.push(n),n}function re(e){return x(e)||w(22,e),function e(t){if(!O(t))return t;var r,n=t[De],u=P(t);if(n){if(!n.P&&(n.i<4||!z("ES5").K(n)))return n.t;n.I=!0,r=ne(t,u),n.I=!1}else r=ne(t,u);return j(r,(function(t,u){n&&function(e,t){return 2===P(e)?e.get(t):e[t]}(n.t,t)===u||S(r,t,e(u))})),3===u?new Set(r):r}(e)}function ne(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return I(e)}var ue,oe,ie="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),ae="undefined"!=typeof Map,ce="undefined"!=typeof Set,se="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,fe=ie?Symbol.for("immer-nothing"):((ue={})["immer-nothing"]=!0,ue),le=ie?Symbol.for("immer-draftable"):"__$immer_draftable",De=ie?Symbol.for("immer-state"):"__$immer_state",pe=""+Object.prototype.constructor,de="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,ve=Object.getOwnPropertyDescriptors||function(e){var t={};return de(e).forEach((function(r){t[r]=Object.getOwnPropertyDescriptor(e,r)})),t},he={},Ce={get:function(e,t){if(t===De)return e;var r=R(e);if(!k(r,t))return function(e,t,r){var n,u=H(t,r);return u?"value"in u?u.value:null===(n=u.get)||void 0===n?void 0:n.call(e.k):void 0}(e,r,t);var n=r[t];return e.I||!O(n)?n:n===X(e.t,t)?(ee(e),e.o[t]=te(e.A.h,n,e)):n},has:function(e,t){return t in R(e)},ownKeys:function(e){return Reflect.ownKeys(R(e))},set:function(e,t,r){var n=H(R(e),t);if(null==n?void 0:n.set)return n.set.call(e.k,r),!0;if(!e.P){var u=X(R(e),t),o=null==u?void 0:u[De];if(o&&o.t===r)return e.o[t]=r,e.D[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}(r,u)&&(void 0!==r||k(e.t,t)))return!0;ee(e),Q(e)}return e.o[t]===r&&"number"!=typeof r&&(void 0!==r||t in e.o)||(e.o[t]=r,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==X(e.t,t)||t in e.t?(e.D[t]=!1,ee(e),Q(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var r=R(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:n.enumerable,value:r[t]}:n},defineProperty:function(){w(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){w(12)}},ye={};j(Ce,(function(e,t){ye[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),ye.deleteProperty=function(e,t){return Ce.deleteProperty.call(this,e[0],t)},ye.set=function(e,t,r){return Ce.set.call(this,e[0],t,r,e[0])};var Be=function(){function e(e){var t=this;this.g=se,this.F=!0,this.produce=function(e,r,n){if("function"==typeof e&&"function"!=typeof r){var u=r;r=e;var o=t;return function(e){var t=this;void 0===e&&(e=u);for(var n=arguments.length,i=Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];return o.produce(e,(function(e){var n;return(n=r).call.apply(n,[t,e].concat(i))}))}}var i;if("function"!=typeof r&&w(6),void 0!==n&&"function"!=typeof n&&w(7),O(e)){var a=W(t),c=te(t,e,void 0),s=!0;try{i=r(c),s=!1}finally{s?$(a):U(a)}return"undefined"!=typeof Promise&&i instanceof Promise?i.then((function(e){return V(a,n),J(e,a)}),(function(e){throw $(a),e})):(V(a,n),J(i,a))}if(!e||"object"!=typeof e){if((i=r(e))===fe)return;return void 0===i&&(i=e),t.F&&T(i,!0),i}w(21,e)},this.produceWithPatches=function(e,r){return"function"==typeof e?function(r){for(var n=arguments.length,u=Array(n>1?n-1:0),o=1;o<n;o++)u[o-1]=arguments[o];return t.produceWithPatches(r,(function(t){return e.apply(void 0,[t].concat(u))}))}:[t.produce(e,r,(function(e,t){n=e,u=t})),n,u];var n,u},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){O(e)||w(8),x(e)&&(e=re(e));var t=W(this),r=te(this,e,void 0);return r[De].C=!0,U(t),r},t.finishDraft=function(e,t){var r=(e&&e[De]).A;return V(r,t),J(void 0,r)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!se&&w(20),this.g=e},t.applyPatches=function(e,t){var r;for(r=t.length-1;r>=0;r--){var n=t[r];if(0===n.path.length&&"replace"===n.op){e=n.value;break}}var u=z("Patches").$;return x(e)?u(e,t):this.produce(e,(function(e){return u(e,t.slice(r+1))}))},e}(),Ae=new Be,ge=Ae.produce;Ae.produceWithPatches.bind(Ae),Ae.setAutoFreeze.bind(Ae),Ae.setUseProxies.bind(Ae),Ae.applyPatches.bind(Ae);var me=Ae.createDraft.bind(Ae),Ee=Ae.finishDraft.bind(Ae);function Fe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function be(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(r),!0).forEach((function(t){A(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function we(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return xe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xe(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,u=function(){};return{s:u,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:u}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw o}}}}function xe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Oe={transform:function(e,t){e.children=me(e.children);var r=e.selection&&me(e.selection);try{r=function(e,t,r){switch(r.type){case"insert_node":var n=r.path,u=r.node,o=Je.parent(e,n),i=n[n.length-1];if(i>o.children.length)throw new Error('Cannot apply an "insert_node" operation at path ['.concat(n,"] because the destination is past the end of the node."));if(o.children.splice(i,0,u),t){var a,c=we(Le.points(t));try{for(c.s();!(a=c.n()).done;){var s=b(a.value,2),f=s[0];t[s[1]]=ut.transform(f,r)}}catch(e){c.e(e)}finally{c.f()}}break;case"insert_text":var l=r.path,D=r.offset,p=r.text;if(0===p.length)break;var d=Je.leaf(e,l),v=d.text.slice(0,D),h=d.text.slice(D);if(d.text=v+p+h,t){var C,A=we(Le.points(t));try{for(A.s();!(C=A.n()).done;){var g=b(C.value,2),m=g[0];t[g[1]]=ut.transform(m,r)}}catch(e){A.e(e)}finally{A.f()}}break;case"merge_node":var E=r.path,F=Je.get(e,E),w=B.previous(E),x=Je.get(e,w),O=Je.parent(e,E),j=E[E.length-1];if(pt.isText(F)&&pt.isText(x))x.text+=F.text;else{if(pt.isText(F)||pt.isText(x))throw new Error('Cannot apply a "merge_node" operation at path ['.concat(E,"] to nodes of different interfaces: ").concat(it.stringify(F)," ").concat(it.stringify(x)));var P;(P=x.children).push.apply(P,y(F.children))}if(O.children.splice(j,1),t){var k,S=we(Le.points(t));try{for(S.s();!(k=S.n()).done;){var N=b(k.value,2),_=N[0];t[N[1]]=ut.transform(_,r)}}catch(e){S.e(e)}finally{S.f()}}break;case"move_node":var R=r.path,I=r.newPath;if(B.isAncestor(R,I))throw new Error("Cannot move a path [".concat(R,"] to new path [").concat(I,"] because the destination is inside itself."));var T=Je.get(e,R),M=Je.parent(e,R),L=R[R.length-1];M.children.splice(L,1);var z=B.transform(R,r),q=Je.get(e,B.parent(z)),V=z[z.length-1];if(q.children.splice(V,0,T),t){var $,U=we(Le.points(t));try{for(U.s();!($=U.n()).done;){var W=b($.value,2),G=W[0];t[W[1]]=ut.transform(G,r)}}catch(e){U.e(e)}finally{U.f()}}break;case"remove_node":var J=r.path,K=J[J.length-1];if(Je.parent(e,J).children.splice(K,1),t){var Z,Y=we(Le.points(t));try{for(Y.s();!(Z=Y.n()).done;){var X=b(Z.value,2),H=X[0],Q=X[1],ee=ut.transform(H,r);if(null!=t&&null!=ee)t[Q]=ee;else{var te,re=void 0,ne=void 0,ue=we(Je.texts(e));try{for(ue.s();!(te=ue.n()).done;){var oe=b(te.value,2),ie=oe[0],ae=oe[1];if(-1!==B.compare(ae,J)){ne=[ie,ae];break}re=[ie,ae]}}catch(e){ue.e(e)}finally{ue.f()}var ce=!1;re&&ne&&(ce=B.equals(ne[1],J)?!B.hasPrevious(ne[1]):B.common(re[1],J).length<B.common(ne[1],J).length),re&&!ce?(H.path=re[1],H.offset=re[0].text.length):ne?(H.path=ne[1],H.offset=0):t=null}}}catch(e){Y.e(e)}finally{Y.f()}}break;case"remove_text":var se=r.path,fe=r.offset,le=r.text;if(0===le.length)break;var De=Je.leaf(e,se),pe=De.text.slice(0,fe),de=De.text.slice(fe+le.length);if(De.text=pe+de,t){var ve,he=we(Le.points(t));try{for(he.s();!(ve=he.n()).done;){var Ce=b(ve.value,2),ye=Ce[0];t[Ce[1]]=ut.transform(ye,r)}}catch(e){he.e(e)}finally{he.f()}}break;case"set_node":var Be=r.path,Ae=r.properties,ge=r.newProperties;if(0===Be.length)throw new Error("Cannot set properties on the root node!");var me=Je.get(e,Be);for(var Ee in ge){if("children"===Ee||"text"===Ee)throw new Error('Cannot set the "'.concat(Ee,'" property of nodes!'));var Fe=ge[Ee];null==Fe?delete me[Ee]:me[Ee]=Fe}for(var xe in Ae)ge.hasOwnProperty(xe)||delete me[xe];break;case"set_selection":var Oe=r.newProperties;if(null==Oe)t=Oe;else{if(null==t){if(!Le.isRange(Oe))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(it.stringify(Oe)," when there is no current selection."));t=be({},Oe)}for(var je in Oe){var Pe=Oe[je];if(null==Pe){if("anchor"===je||"focus"===je)throw new Error('Cannot remove the "'.concat(je,'" selection property'));delete t[je]}else t[je]=Pe}}break;case"split_node":var ke=r.path,Se=r.position,Ne=r.properties;if(0===ke.length)throw new Error('Cannot apply a "split_node" operation at path ['.concat(ke,"] because the root node cannot be split."));var _e,Re=Je.get(e,ke),Ie=Je.parent(e,ke),Te=ke[ke.length-1];if(pt.isText(Re)){var Me=Re.text.slice(0,Se),ze=Re.text.slice(Se);Re.text=Me,_e=be(be({},Ne),{},{text:ze})}else{var qe=Re.children.slice(0,Se),Ve=Re.children.slice(Se);Re.children=qe,_e=be(be({},Ne),{},{children:Ve})}if(Ie.children.splice(Te+1,0,_e),t){var $e,Ue=we(Le.points(t));try{for(Ue.s();!($e=Ue.n()).done;){var We=b($e.value,2),Ge=We[0];t[We[1]]=ut.transform(Ge,r)}}catch(e){Ue.e(e)}finally{Ue.f()}}}return t}(e,r,t)}finally{e.children=Ee(e.children),e.selection=r?x(r)?Ee(r):r:null}}};
/*!
   * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
   *
   * Copyright (c) 2014-2017, Jon Schlinkert.
   * Released under the MIT License.
   */
function je(e){return"[object Object]"===Object.prototype.toString.call(e)}function Pe(e){var t,r;return!1!==je(e)&&(void 0===(t=e.constructor)||!1!==je(r=t.prototype)&&!1!==r.hasOwnProperty("isPrototypeOf"))}var ke=function e(t,r){for(var n in t){var u=t[n],o=r[n];if(Pe(u)&&Pe(o)){if(!e(u,o))return!1}else if(Array.isArray(u)&&Array.isArray(o)){if(u.length!==o.length)return!1;for(var i=0;i<u.length;i++)if(u[i]!==o[i])return!1}else if(u!==o)return!1}for(var a in r)if(void 0===t[a]&&void 0!==r[a])return!1;return!0},Se=D((function(e){e.exports=function(e,t){if(null==e)return{};var r,n,u={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(u[r]=e[r]);return u},e.exports.default=e.exports,e.exports.__esModule=!0}));l(Se);var Ne=D((function(e){e.exports=function(e,t){if(null==e)return{};var r,n,u=Se(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(u[r]=e[r])}return u},e.exports.default=e.exports,e.exports.__esModule=!0})),_e=l(Ne),Re=D((function(e){var t=function(e){var t,r=Object.prototype,n=r.hasOwnProperty,u="function"==typeof Symbol?Symbol:{},o=u.iterator||"@@iterator",i=u.asyncIterator||"@@asyncIterator",a=u.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var u=t&&t.prototype instanceof h?t:h,o=Object.create(u.prototype),i=new O(n||[]);return o._invoke=function(e,t,r){var n=l;return function(u,o){if(n===p)throw new Error("Generator is already running");if(n===d){if("throw"===u)throw o;return P()}for(r.method=u,r.arg=o;;){var i=r.delegate;if(i){var a=b(i,r);if(a){if(a===v)continue;return a}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===l)throw n=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=p;var c=f(e,t,r);if("normal"===c.type){if(n=r.done?d:D,c.arg===v)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n=d,r.method="throw",r.arg=c.arg)}}}(e,r,i),o}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var l="suspendedStart",D="suspendedYield",p="executing",d="completed",v={};function h(){}function C(){}function y(){}var B={};c(B,o,(function(){return this}));var A=Object.getPrototypeOf,g=A&&A(A(j([])));g&&g!==r&&n.call(g,o)&&(B=g);var m=y.prototype=h.prototype=Object.create(B);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function F(e,t){function r(u,o,i,a){var c=f(e[u],e,o);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==typeof l&&n.call(l,"__await")?t.resolve(l.__await).then((function(e){r("next",e,i,a)}),(function(e){r("throw",e,i,a)})):t.resolve(l).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,a)}))}a(c.arg)}var u;this._invoke=function(e,n){function o(){return new t((function(t,u){r(e,n,t,u)}))}return u=u?u.then(o,o):o()}}function b(e,r){var n=e.iterator[r.method];if(n===t){if(r.delegate=null,"throw"===r.method){if(e.iterator.return&&(r.method="return",r.arg=t,b(e,r),"throw"===r.method))return v;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var u=f(n,e.iterator,r.arg);if("throw"===u.type)return r.method="throw",r.arg=u.arg,r.delegate=null,v;var o=u.arg;return o?o.done?(r[e.resultName]=o.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function j(e){if(e){var r=e[o];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var u=-1,i=function r(){for(;++u<e.length;)if(n.call(e,u))return r.value=e[u],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}return{next:P}}function P(){return{value:t,done:!0}}return C.prototype=y,c(m,"constructor",y),c(y,"constructor",C),C.displayName=c(y,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===C||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,a,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},E(F.prototype),c(F.prototype,i,(function(){return this})),e.AsyncIterator=F,e.async=function(t,r,n,u,o){void 0===o&&(o=Promise);var i=new F(s(t,r,n,u),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},E(m),c(m,a,"Generator"),c(m,o,(function(){return this})),c(m,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=j,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(x),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function u(n,u){return a.type="throw",a.arg=e,r.next=n,u&&(r.method="next",r.arg=t),!!u}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return u("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return u(i.catchLoc,!0);if(this.prev<i.finallyLoc)return u(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return u(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return u(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var u=this.tryEntries[r];if(u.tryLoc<=this.prev&&n.call(u,"finallyLoc")&&this.prev<u.finallyLoc){var o=u;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var u=n.arg;x(r)}return u}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:j(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}})),Ie=Re,Te=["anchor","focus"];function Me(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var Le={edges:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.reverse,n=void 0!==r&&r,u=e.anchor,o=e.focus;return Le.isBackward(e)===n?[u,o]:[o,u]},end:function(e){var t=Le.edges(e),r=b(t,2)[1];return r},equals:function(e,t){return ut.equals(e.anchor,t.anchor)&&ut.equals(e.focus,t.focus)},includes:function(e,t){if(Le.isRange(t)){if(Le.includes(e,t.anchor)||Le.includes(e,t.focus))return!0;var r=Le.edges(e),n=b(r,2),u=n[0],o=n[1],i=Le.edges(t),a=b(i,2),c=a[0],s=a[1];return ut.isBefore(u,c)&&ut.isAfter(o,s)}var f=Le.edges(e),l=b(f,2),D=l[0],p=l[1],d=!1,v=!1;return ut.isPoint(t)?(d=ut.compare(t,D)>=0,v=ut.compare(t,p)<=0):(d=B.compare(t,D.path)>=0,v=B.compare(t,p.path)<=0),d&&v},intersection:function(e,t){e.anchor,e.focus;var r=_e(e,Te),n=Le.edges(e),u=b(n,2),o=u[0],i=u[1],a=Le.edges(t),c=b(a,2),s=c[0],f=c[1],l=ut.isBefore(o,s)?s:o,D=ut.isBefore(i,f)?i:f;return ut.isBefore(D,l)?null:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Me(Object(r),!0).forEach((function(t){A(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Me(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({anchor:l,focus:D},r)},isBackward:function(e){var t=e.anchor,r=e.focus;return ut.isAfter(t,r)},isCollapsed:function(e){var t=e.anchor,r=e.focus;return ut.equals(t,r)},isExpanded:function(e){return!Le.isCollapsed(e)},isForward:function(e){return!Le.isBackward(e)},isRange:function(e){return Pe(e)&&ut.isPoint(e.anchor)&&ut.isPoint(e.focus)},points:Ie.mark((function e(t){return Ie.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,[t.anchor,"anchor"];case 2:return e.next=4,[t.focus,"focus"];case 4:case"end":return e.stop()}}),e)})),start:function(e){var t=Le.edges(e),r=b(t,1)[0];return r},transform:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return ge(e,(function(e){if(null===e)return null;var n,u,o=r.affinity,i=void 0===o?"inward":o;if("inward"===i){var a=Le.isCollapsed(e);Le.isForward(e)?(n="forward",u=a?n:"backward"):(n="backward",u=a?n:"forward")}else"outward"===i?Le.isForward(e)?(n="backward",u="forward"):(n="forward",u="backward"):(n=i,u=i);var c=ut.transform(e.anchor,t,{affinity:n}),s=ut.transform(e.focus,t,{affinity:u});if(!c||!s)return null;e.anchor=c,e.focus=s}))}},ze=function(e){return Pe(e)&&Je.isNodeList(e.children)&&!Qe.isEditor(e)},qe={isAncestor:function(e){return Pe(e)&&Je.isNodeList(e.children)},isElement:ze,isElementList:function(e){return Array.isArray(e)&&e.every((function(e){return qe.isElement(e)}))},isElementProps:function(e){return void 0!==e.children},isElementType:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"type";return ze(e)&&e[r]===t},matches:function(e,t){for(var r in t)if("children"!==r&&e[r]!==t[r])return!1;return!0}},Ve=["children"],$e=["text"];function Ue(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return We(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return We(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,u=function(){};return{s:u,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:u}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw o}}}}function We(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ge=new WeakMap,Je={ancestor:function(e,t){var r=Je.get(e,t);if(pt.isText(r))throw new Error("Cannot get the ancestor node at path [".concat(t,"] because it refers to a text node instead: ").concat(it.stringify(r)));return r},ancestors:Ie.mark((function e(t,r){var n,u,o,i,a,c,s=arguments;return Ie.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=s.length>2&&void 0!==s[2]?s[2]:{},u=Ue(B.ancestors(r,n)),e.prev=2,u.s();case 4:if((o=u.n()).done){e.next=12;break}return i=o.value,a=Je.ancestor(t,i),c=[a,i],e.next=10,c;case 10:e.next=4;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),u.e(e.t0);case 17:return e.prev=17,u.f(),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[2,14,17,20]])})),child:function(e,t){if(pt.isText(e))throw new Error("Cannot get the child of a text node: ".concat(it.stringify(e)));var r=e.children[t];if(null==r)throw new Error("Cannot get child at index `".concat(t,"` in node: ").concat(it.stringify(e)));return r},children:Ie.mark((function(e,t){var r,n,u,o,i,a,c,s,f=arguments;return Ie.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:r=f.length>2&&void 0!==f[2]?f[2]:{},n=r.reverse,u=void 0!==n&&n,o=Je.ancestor(e,t),i=o.children,a=u?i.length-1:0;case 5:if(!(u?a>=0:a<i.length)){l.next=13;break}return c=Je.child(o,a),s=t.concat(a),l.next=10,[c,s];case 10:a=u?a-1:a+1,l.next=5;break;case 13:case"end":return l.stop()}}),i)})),common:function(e,t,r){var n=B.common(t,r);return[Je.get(e,n),n]},descendant:function(e,t){var r=Je.get(e,t);if(Qe.isEditor(r))throw new Error("Cannot get the descendant node at path [".concat(t,"] because it refers to the root editor node instead: ").concat(it.stringify(r)));return r},descendants:Ie.mark((function e(t){var r,n,u,o,i,a,c=arguments;return Ie.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=c.length>1&&void 0!==c[1]?c[1]:{},n=Ue(Je.nodes(t,r)),e.prev=2,n.s();case 4:if((u=n.n()).done){e.next=11;break}if(o=b(u.value,2),i=o[0],0===(a=o[1]).length){e.next=9;break}return e.next=9,[i,a];case 9:e.next=4;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),n.e(e.t0);case 16:return e.prev=16,n.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[2,13,16,19]])})),elements:Ie.mark((function e(t){var r,n,u,o,i,a,c=arguments;return Ie.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=c.length>1&&void 0!==c[1]?c[1]:{},n=Ue(Je.nodes(t,r)),e.prev=2,n.s();case 4:if((u=n.n()).done){e.next=11;break}if(o=b(u.value,2),i=o[0],a=o[1],!qe.isElement(i)){e.next=9;break}return e.next=9,[i,a];case 9:e.next=4;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),n.e(e.t0);case 16:return e.prev=16,n.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[2,13,16,19]])})),extractProps:function(e){return qe.isAncestor(e)?(e.children,_e(e,Ve)):(e.text,_e(e,$e))},first:function(e,t){for(var r=t.slice(),n=Je.get(e,r);n&&!pt.isText(n)&&0!==n.children.length;)n=n.children[0],r.push(0);return[n,r]},fragment:function(e,t){if(pt.isText(e))throw new Error("Cannot get a fragment starting from a root text node: ".concat(it.stringify(e)));var r=ge({children:e.children},(function(e){var r,n=Le.edges(t),u=b(n,2),o=u[0],i=u[1],a=Je.nodes(e,{reverse:!0,pass:function(e){var r=b(e,2)[1];return!Le.includes(t,r)}}),c=Ue(a);try{for(c.s();!(r=c.n()).done;){var s=b(r.value,2)[1];if(!Le.includes(t,s)){var f=Je.parent(e,s),l=s[s.length-1];f.children.splice(l,1)}if(B.equals(s,i.path)){var D=Je.leaf(e,s);D.text=D.text.slice(0,i.offset)}if(B.equals(s,o.path)){var p=Je.leaf(e,s);p.text=p.text.slice(o.offset)}}}catch(e){c.e(e)}finally{c.f()}Qe.isEditor(e)&&(e.selection=null)}));return r.children},get:function(e,t){for(var r=e,n=0;n<t.length;n++){var u=t[n];if(pt.isText(r)||!r.children[u])throw new Error("Cannot find a descendant at path [".concat(t,"] in node: ").concat(it.stringify(e)));r=r.children[u]}return r},has:function(e,t){for(var r=e,n=0;n<t.length;n++){var u=t[n];if(pt.isText(r)||!r.children[u])return!1;r=r.children[u]}return!0},isNode:function(e){return pt.isText(e)||qe.isElement(e)||Qe.isEditor(e)},isNodeList:function(e){if(!Array.isArray(e))return!1;var t=Ge.get(e);if(void 0!==t)return t;var r=e.every((function(e){return Je.isNode(e)}));return Ge.set(e,r),r},last:function(e,t){for(var r=t.slice(),n=Je.get(e,r);n&&!pt.isText(n)&&0!==n.children.length;){var u=n.children.length-1;n=n.children[u],r.push(u)}return[n,r]},leaf:function(e,t){var r=Je.get(e,t);if(!pt.isText(r))throw new Error("Cannot get the leaf node at path [".concat(t,"] because it refers to a non-leaf node: ").concat(it.stringify(r)));return r},levels:Ie.mark((function e(t,r){var n,u,o,i,a,c=arguments;return Ie.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=c.length>2&&void 0!==c[2]?c[2]:{},u=Ue(B.levels(r,n)),e.prev=2,u.s();case 4:if((o=u.n()).done){e.next=11;break}return i=o.value,a=Je.get(t,i),e.next=9,[a,i];case 9:e.next=4;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),u.e(e.t0);case 16:return e.prev=16,u.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[2,13,16,19]])})),matches:function(e,t){return qe.isElement(e)&&qe.isElementProps(t)&&qe.matches(e,t)||pt.isText(e)&&pt.isTextProps(t)&&pt.matches(e,t)},nodes:Ie.mark((function e(t){var r,n,u,o,i,a,c,s,f,l,D,p,d,v=arguments;return Ie.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=v.length>1&&void 0!==v[1]?v[1]:{},n=r.pass,u=r.reverse,o=void 0!==u&&u,i=r.from,a=void 0===i?[]:i,c=r.to,s=new Set,f=[],l=t;case 6:if(!c||!(o?B.isBefore(f,c):B.isAfter(f,c))){e.next=9;break}return e.abrupt("break",37);case 9:if(s.has(l)){e.next=12;break}return e.next=12,[l,f];case 12:if(s.has(l)||pt.isText(l)||0===l.children.length||null!=n&&!1!==n([l,f])){e.next=19;break}return s.add(l),D=o?l.children.length-1:0,B.isAncestor(f,a)&&(D=a[f.length]),f=f.concat(D),l=Je.get(t,f),e.abrupt("continue",6);case 19:if(0!==f.length){e.next=21;break}return e.abrupt("break",37);case 21:if(o){e.next=27;break}if(p=B.next(f),!Je.has(t,p)){e.next=27;break}return f=p,l=Je.get(t,f),e.abrupt("continue",6);case 27:if(!o||0===f[f.length-1]){e.next=32;break}return d=B.previous(f),f=d,l=Je.get(t,f),e.abrupt("continue",6);case 32:f=B.parent(f),l=Je.get(t,f),s.add(l),e.next=6;break;case 37:case"end":return e.stop()}}),e)})),parent:function(e,t){var r=B.parent(t),n=Je.get(e,r);if(pt.isText(n))throw new Error("Cannot get the parent of path [".concat(t,"] because it does not exist in the root."));return n},string:function(e){return pt.isText(e)?e.text:e.children.map(Je.string).join("")},texts:Ie.mark((function e(t){var r,n,u,o,i,a,c=arguments;return Ie.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=c.length>1&&void 0!==c[1]?c[1]:{},n=Ue(Je.nodes(t,r)),e.prev=2,n.s();case 4:if((u=n.n()).done){e.next=11;break}if(o=b(u.value,2),i=o[0],a=o[1],!pt.isText(i)){e.next=9;break}return e.next=9,[i,a];case 9:e.next=4;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),n.e(e.t0);case 16:return e.prev=16,n.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[2,13,16,19]])}))};function Ke(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ze(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(r),!0).forEach((function(t){A(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ke(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ye={isNodeOperation:function(e){return Ye.isOperation(e)&&e.type.endsWith("_node")},isOperation:function(e){if(!Pe(e))return!1;switch(e.type){case"insert_node":case"remove_node":return B.isPath(e.path)&&Je.isNode(e.node);case"insert_text":case"remove_text":return"number"==typeof e.offset&&"string"==typeof e.text&&B.isPath(e.path);case"merge_node":return"number"==typeof e.position&&B.isPath(e.path)&&Pe(e.properties);case"move_node":return B.isPath(e.path)&&B.isPath(e.newPath);case"set_node":return B.isPath(e.path)&&Pe(e.properties)&&Pe(e.newProperties);case"set_selection":return null===e.properties&&Le.isRange(e.newProperties)||null===e.newProperties&&Le.isRange(e.properties)||Pe(e.properties)&&Pe(e.newProperties);case"split_node":return B.isPath(e.path)&&"number"==typeof e.position&&Pe(e.properties);default:return!1}},isOperationList:function(e){return Array.isArray(e)&&e.every((function(e){return Ye.isOperation(e)}))},isSelectionOperation:function(e){return Ye.isOperation(e)&&e.type.endsWith("_selection")},isTextOperation:function(e){return Ye.isOperation(e)&&e.type.endsWith("_text")},inverse:function(e){switch(e.type){case"insert_node":return Ze(Ze({},e),{},{type:"remove_node"});case"insert_text":return Ze(Ze({},e),{},{type:"remove_text"});case"merge_node":return Ze(Ze({},e),{},{type:"split_node",path:B.previous(e.path)});case"move_node":var t=e.newPath,r=e.path;if(B.equals(t,r))return e;if(B.isSibling(r,t))return Ze(Ze({},e),{},{path:t,newPath:r});var n=B.transform(r,e),u=B.transform(B.next(r),e);return Ze(Ze({},e),{},{path:n,newPath:u});case"remove_node":return Ze(Ze({},e),{},{type:"insert_node"});case"remove_text":return Ze(Ze({},e),{},{type:"insert_text"});case"set_node":var o=e.properties,i=e.newProperties;return Ze(Ze({},e),{},{properties:i,newProperties:o});case"set_selection":var a=e.properties,c=e.newProperties;return Ze(Ze({},e),{},null==a?{properties:c,newProperties:null}:null==c?{properties:null,newProperties:a}:{properties:c,newProperties:a});case"split_node":return Ze(Ze({},e),{},{type:"merge_node",path:B.next(e.path)})}}},Xe=new WeakMap,He=function(e){var t=Xe.get(e);if(void 0!==t)return t;if(!Pe(e))return!1;var r="function"==typeof e.addMark&&"function"==typeof e.apply&&"function"==typeof e.deleteFragment&&"function"==typeof e.insertBreak&&"function"==typeof e.insertSoftBreak&&"function"==typeof e.insertFragment&&"function"==typeof e.insertNode&&"function"==typeof e.insertText&&"function"==typeof e.isElementReadOnly&&"function"==typeof e.isInline&&"function"==typeof e.isSelectable&&"function"==typeof e.isVoid&&"function"==typeof e.normalizeNode&&"function"==typeof e.onChange&&"function"==typeof e.removeMark&&"function"==typeof e.getDirtyPaths&&(null===e.marks||Pe(e.marks))&&(null===e.selection||Le.isRange(e.selection))&&Je.isNodeList(e.children)&&Ye.isOperationList(e.operations);return Xe.set(e,r),r},Qe={above:function(e,t){return e.above(t)},addMark:function(e,t,r){e.addMark(t,r)},after:function(e,t,r){return e.after(t,r)},before:function(e,t,r){return e.before(t,r)},deleteBackward:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.unit,n=void 0===r?"character":r;e.deleteBackward(n)},deleteForward:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.unit,n=void 0===r?"character":r;e.deleteForward(n)},deleteFragment:function(e,t){e.deleteFragment(t)},edges:function(e,t){return e.edges(t)},elementReadOnly:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.elementReadOnly(t)},end:function(e,t){return e.end(t)},first:function(e,t){return e.first(t)},fragment:function(e,t){return e.fragment(t)},hasBlocks:function(e,t){return e.hasBlocks(t)},hasInlines:function(e,t){return e.hasInlines(t)},hasPath:function(e,t){return e.hasPath(t)},hasTexts:function(e,t){return e.hasTexts(t)},insertBreak:function(e){e.insertBreak()},insertFragment:function(e,t,r){e.insertFragment(t,r)},insertNode:function(e,t){e.insertNode(t)},insertSoftBreak:function(e){e.insertSoftBreak()},insertText:function(e,t){e.insertText(t)},isBlock:function(e,t){return e.isBlock(t)},isEdge:function(e,t,r){return e.isEdge(t,r)},isEditor:function(e){return He(e)},isElementReadOnly:function(e,t){return e.isElementReadOnly(t)},isEmpty:function(e,t){return e.isEmpty(t)},isEnd:function(e,t,r){return e.isEnd(t,r)},isInline:function(e,t){return e.isInline(t)},isNormalizing:function(e){return e.isNormalizing()},isSelectable:function(e,t){return e.isSelectable(t)},isStart:function(e,t,r){return e.isStart(t,r)},isVoid:function(e,t){return e.isVoid(t)},last:function(e,t){return e.last(t)},leaf:function(e,t,r){return e.leaf(t,r)},levels:function(e,t){return e.levels(t)},marks:function(e){return e.getMarks()},next:function(e,t){return e.next(t)},node:function(e,t,r){return e.node(t,r)},nodes:function(e,t){return e.nodes(t)},normalize:function(e,t){e.normalize(t)},parent:function(e,t,r){return e.parent(t,r)},path:function(e,t,r){return e.path(t,r)},pathRef:function(e,t,r){return e.pathRef(t,r)},pathRefs:function(e){return e.pathRefs()},point:function(e,t,r){return e.point(t,r)},pointRef:function(e,t,r){return e.pointRef(t,r)},pointRefs:function(e){return e.pointRefs()},positions:function(e,t){return e.positions(t)},previous:function(e,t){return e.previous(t)},range:function(e,t,r){return e.range(t,r)},rangeRef:function(e,t,r){return e.rangeRef(t,r)},rangeRefs:function(e){return e.rangeRefs()},removeMark:function(e,t){e.removeMark(t)},setNormalizing:function(e,t){e.setNormalizing(t)},start:function(e,t){return e.start(t)},string:function(e,t,r){return e.string(t,r)},unhangRange:function(e,t,r){return e.unhangRange(t,r)},void:function(e,t){return e.void(t)},withoutNormalizing:function(e,t){e.withoutNormalizing(t)}},et={isLocation:function(e){return B.isPath(e)||ut.isPoint(e)||Le.isRange(e)}},tt={isSpan:function(e){return Array.isArray(e)&&2===e.length&&e.every(B.isPath)}};function rt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function nt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rt(Object(r),!0).forEach((function(t){A(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ut={compare:function(e,t){var r=B.compare(e.path,t.path);return 0===r?e.offset<t.offset?-1:e.offset>t.offset?1:0:r},isAfter:function(e,t){return 1===ut.compare(e,t)},isBefore:function(e,t){return-1===ut.compare(e,t)},equals:function(e,t){return e.offset===t.offset&&B.equals(e.path,t.path)},isPoint:function(e){return Pe(e)&&"number"==typeof e.offset&&B.isPath(e.path)},transform:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return ge(e,(function(e){if(null===e)return null;var n=r.affinity,u=void 0===n?"forward":n,o=e.path,i=e.offset;switch(t.type){case"insert_node":case"move_node":e.path=B.transform(o,t,r);break;case"insert_text":B.equals(t.path,o)&&(t.offset<i||t.offset===i&&"forward"===u)&&(e.offset+=t.text.length);break;case"merge_node":B.equals(t.path,o)&&(e.offset+=t.position),e.path=B.transform(o,t,r);break;case"remove_text":B.equals(t.path,o)&&t.offset<=i&&(e.offset-=Math.min(i-t.offset,t.text.length));break;case"remove_node":if(B.equals(t.path,o)||B.isAncestor(t.path,o))return null;e.path=B.transform(o,t,r);break;case"split_node":if(B.equals(t.path,o)){if(t.position===i&&null==u)return null;(t.position<i||t.position===i&&"forward"===u)&&(e.offset-=t.position,e.path=B.transform(o,t,nt(nt({},r),{},{affinity:"forward"})))}else e.path=B.transform(o,t,r)}}))}},ot=void 0,it={setScrubber:function(e){ot=e},stringify:function(e){return JSON.stringify(e,ot)}},at=["text"],ct=["anchor","focus"];function st(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return ft(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ft(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,u=function(){};return{s:u,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:u}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw o}}}}function ft(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Dt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?lt(Object(r),!0).forEach((function(t){A(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var pt={equals:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.loose,u=void 0!==n&&n;function o(e){return e.text,_e(e,at)}return ke(u?o(e):e,u?o(t):t)},isText:function(e){return Pe(e)&&"string"==typeof e.text},isTextList:function(e){return Array.isArray(e)&&e.every((function(e){return pt.isText(e)}))},isTextProps:function(e){return void 0!==e.text},matches:function(e,t){for(var r in t)if("text"!==r&&(!e.hasOwnProperty(r)||e[r]!==t[r]))return!1;return!0},decorations:function(e,t){var r,n=[Dt({},e)],u=st(t);try{for(u.s();!(r=u.n()).done;){var o,i=r.value,a=(i.anchor,i.focus,_e(i,ct)),c=Le.edges(i),s=b(c,2),f=s[0],l=s[1],D=[],p=0,d=f.offset,v=l.offset,h=st(n);try{for(h.s();!(o=h.n()).done;){var C=o.value,y=C.text.length,B=p;if(p+=y,d<=B&&p<=v)Object.assign(C,a),D.push(C);else if(d!==v&&(d===p||v===B)||d>p||v<B||v===B&&0!==B)D.push(C);else{var A=C,g=void 0,m=void 0;if(v<p){var E=v-B;m=Dt(Dt({},A),{},{text:A.text.slice(E)}),A=Dt(Dt({},A),{},{text:A.text.slice(0,E)})}if(d>B){var F=d-B;g=Dt(Dt({},A),{},{text:A.text.slice(0,F)}),A=Dt(Dt({},A),{},{text:A.text.slice(F)})}Object.assign(A,a),g&&D.push(g),D.push(A),m&&D.push(m)}}}catch(e){h.e(e)}finally{h.f()}n=D}}catch(e){u.e(e)}finally{u.f()}return n}},dt=function(e){return e.selection?e.selection:e.children.length>0?Qe.end(e,[]):[0]},vt=function(e,t){var r=Qe.node(e,t),n=b(r,1)[0];return function(e){return e===n}};function ht(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return Ct(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ct(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,u=function(){};return{s:u,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:u}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw o}}}}function Ct(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var yt,Bt=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!r,u=r?wt(e):e,o=yt.None,i=yt.None,a=0,c=null,s=ht(u);try{for(s.s();!(t=s.n()).done;){var f=t.value,l=f.codePointAt(0);if(!l)break;var D=Mt(f,l),p=n?[i,D]:[D,o],d=b(p,2);if(o=d[0],i=d[1],Lt(o,yt.ZWJ)&&Lt(i,yt.ExtPict)&&!$t(n?e.substring(0,a):e.substring(0,e.length-a)))break;if(Lt(o,yt.RI)&&Lt(i,yt.RI)&&!(c=null!==c?!c:!!n||Wt(e.substring(0,e.length-a))))break;if(o!==yt.None&&i!==yt.None&&qt(o,i))break;a+=f.length}}catch(e){s.e(e)}finally{s.f()}return a||1},At=/\s/,gt=/[\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,mt=/['\u2018\u2019]/,Et=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=0,n=!1;e.length>0;){var u=Bt(e,t),o=Ft(e,u,t),i=b(o,2),a=i[0],c=i[1];if(bt(a,c,t))n=!0,r+=u;else{if(n)break;r+=u}e=c}return r},Ft=function(e,t,r){if(r){var n=e.length-t;return[e.slice(n,e.length),e.slice(0,n)]}return[e.slice(0,t),e.slice(t)]},bt=function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(At.test(t))return!1;if(mt.test(t)){var u=Bt(r,n),o=Ft(r,u,n),i=b(o,2),a=i[0],c=i[1];if(e(a,c,n))return!0}return!gt.test(t)},wt=Ie.mark((function e(t){var r,n,u,o;return Ie.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.length-1,n=0;case 2:if(!(n<t.length)){e.next=16;break}if(u=t.charAt(r-n),!Ot(u.charCodeAt(0))){e.next=11;break}if(o=t.charAt(r-n-1),!xt(o.charCodeAt(0))){e.next=11;break}return e.next=9,o+u;case 9:return n++,e.abrupt("continue",13);case 11:return e.next=13,u;case 13:n++,e.next=2;break;case 16:case"end":return e.stop()}}),e)})),xt=function(e){return e>=55296&&e<=56319},Ot=function(e){return e>=56320&&e<=57343};!function(e){e[e.None=0]="None",e[e.Extend=1]="Extend",e[e.ZWJ=2]="ZWJ",e[e.RI=4]="RI",e[e.Prepend=8]="Prepend",e[e.SpacingMark=16]="SpacingMark",e[e.L=32]="L",e[e.V=64]="V",e[e.T=128]="T",e[e.LV=256]="LV",e[e.LVT=512]="LVT",e[e.ExtPict=1024]="ExtPict",e[e.Any=2048]="Any"}(yt||(yt={}));var jt=/^(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1AC0\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDF46-\uDF50]|\uD804[\uDC01\uDC38-\uDC46\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD30-\uDD36\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])$/,Pt=/^(?:[\u0600-\u0605\u06DD\u070F\u0890\u0891\u08E2\u0D4E]|\uD804[\uDCBD\uDCCD\uDDC2\uDDC3]|\uD806[\uDD3F\uDD41\uDE3A\uDE84-\uDE89]|\uD807\uDD46)$/,kt=/^(?:[\u0903\u093B\u093E-\u0940\u0949-\u094C\u094E\u094F\u0982\u0983\u09BF\u09C0\u09C7\u09C8\u09CB\u09CC\u0A03\u0A3E-\u0A40\u0A83\u0ABE-\u0AC0\u0AC9\u0ACB\u0ACC\u0B02\u0B03\u0B40\u0B47\u0B48\u0B4B\u0B4C\u0BBF\u0BC1\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0C01-\u0C03\u0C41-\u0C44\u0C82\u0C83\u0CBE\u0CC0\u0CC1\u0CC3\u0CC4\u0CC7\u0CC8\u0CCA\u0CCB\u0D02\u0D03\u0D3F\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D82\u0D83\u0DD0\u0DD1\u0DD8-\u0DDE\u0DF2\u0DF3\u0E33\u0EB3\u0F3E\u0F3F\u0F7F\u1031\u103B\u103C\u1056\u1057\u1084\u1715\u1734\u17B6\u17BE-\u17C5\u17C7\u17C8\u1923-\u1926\u1929-\u192B\u1930\u1931\u1933-\u1938\u1A19\u1A1A\u1A55\u1A57\u1A6D-\u1A72\u1B04\u1B3B\u1B3D-\u1B41\u1B43\u1B44\u1B82\u1BA1\u1BA6\u1BA7\u1BAA\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2\u1BF3\u1C24-\u1C2B\u1C34\u1C35\u1CE1\u1CF7\uA823\uA824\uA827\uA880\uA881\uA8B4-\uA8C3\uA952\uA953\uA983\uA9B4\uA9B5\uA9BA\uA9BB\uA9BE-\uA9C0\uAA2F\uAA30\uAA33\uAA34\uAA4D\uAAEB\uAAEE\uAAEF\uAAF5\uABE3\uABE4\uABE6\uABE7\uABE9\uABEA\uABEC]|\uD804[\uDC00\uDC02\uDC82\uDCB0-\uDCB2\uDCB7\uDCB8\uDD2C\uDD45\uDD46\uDD82\uDDB3-\uDDB5\uDDBF\uDDC0\uDDCE\uDE2C-\uDE2E\uDE32\uDE33\uDE35\uDEE0-\uDEE2\uDF02\uDF03\uDF3F\uDF41-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF62\uDF63]|\uD805[\uDC35-\uDC37\uDC40\uDC41\uDC45\uDCB1\uDCB2\uDCB9\uDCBB\uDCBC\uDCBE\uDCC1\uDDB0\uDDB1\uDDB8-\uDDBB\uDDBE\uDE30-\uDE32\uDE3B\uDE3C\uDE3E\uDEAC\uDEAE\uDEAF\uDEB6\uDF26]|\uD806[\uDC2C-\uDC2E\uDC38\uDD31-\uDD35\uDD37\uDD38\uDD3D\uDD40\uDD42\uDDD1-\uDDD3\uDDDC-\uDDDF\uDDE4\uDE39\uDE57\uDE58\uDE97]|\uD807[\uDC2F\uDC3E\uDCA9\uDCB1\uDCB4\uDD8A-\uDD8E\uDD93\uDD94\uDD96\uDEF5\uDEF6]|\uD81B[\uDF51-\uDF87\uDFF0\uDFF1]|\uD834[\uDD66\uDD6D])$/,St=/^[\u1100-\u115F\uA960-\uA97C]$/,Nt=/^[\u1160-\u11A7\uD7B0-\uD7C6]$/,_t=/^[\u11A8-\u11FF\uD7CB-\uD7FB]$/,Rt=/^[\uAC00\uAC1C\uAC38\uAC54\uAC70\uAC8C\uACA8\uACC4\uACE0\uACFC\uAD18\uAD34\uAD50\uAD6C\uAD88\uADA4\uADC0\uADDC\uADF8\uAE14\uAE30\uAE4C\uAE68\uAE84\uAEA0\uAEBC\uAED8\uAEF4\uAF10\uAF2C\uAF48\uAF64\uAF80\uAF9C\uAFB8\uAFD4\uAFF0\uB00C\uB028\uB044\uB060\uB07C\uB098\uB0B4\uB0D0\uB0EC\uB108\uB124\uB140\uB15C\uB178\uB194\uB1B0\uB1CC\uB1E8\uB204\uB220\uB23C\uB258\uB274\uB290\uB2AC\uB2C8\uB2E4\uB300\uB31C\uB338\uB354\uB370\uB38C\uB3A8\uB3C4\uB3E0\uB3FC\uB418\uB434\uB450\uB46C\uB488\uB4A4\uB4C0\uB4DC\uB4F8\uB514\uB530\uB54C\uB568\uB584\uB5A0\uB5BC\uB5D8\uB5F4\uB610\uB62C\uB648\uB664\uB680\uB69C\uB6B8\uB6D4\uB6F0\uB70C\uB728\uB744\uB760\uB77C\uB798\uB7B4\uB7D0\uB7EC\uB808\uB824\uB840\uB85C\uB878\uB894\uB8B0\uB8CC\uB8E8\uB904\uB920\uB93C\uB958\uB974\uB990\uB9AC\uB9C8\uB9E4\uBA00\uBA1C\uBA38\uBA54\uBA70\uBA8C\uBAA8\uBAC4\uBAE0\uBAFC\uBB18\uBB34\uBB50\uBB6C\uBB88\uBBA4\uBBC0\uBBDC\uBBF8\uBC14\uBC30\uBC4C\uBC68\uBC84\uBCA0\uBCBC\uBCD8\uBCF4\uBD10\uBD2C\uBD48\uBD64\uBD80\uBD9C\uBDB8\uBDD4\uBDF0\uBE0C\uBE28\uBE44\uBE60\uBE7C\uBE98\uBEB4\uBED0\uBEEC\uBF08\uBF24\uBF40\uBF5C\uBF78\uBF94\uBFB0\uBFCC\uBFE8\uC004\uC020\uC03C\uC058\uC074\uC090\uC0AC\uC0C8\uC0E4\uC100\uC11C\uC138\uC154\uC170\uC18C\uC1A8\uC1C4\uC1E0\uC1FC\uC218\uC234\uC250\uC26C\uC288\uC2A4\uC2C0\uC2DC\uC2F8\uC314\uC330\uC34C\uC368\uC384\uC3A0\uC3BC\uC3D8\uC3F4\uC410\uC42C\uC448\uC464\uC480\uC49C\uC4B8\uC4D4\uC4F0\uC50C\uC528\uC544\uC560\uC57C\uC598\uC5B4\uC5D0\uC5EC\uC608\uC624\uC640\uC65C\uC678\uC694\uC6B0\uC6CC\uC6E8\uC704\uC720\uC73C\uC758\uC774\uC790\uC7AC\uC7C8\uC7E4\uC800\uC81C\uC838\uC854\uC870\uC88C\uC8A8\uC8C4\uC8E0\uC8FC\uC918\uC934\uC950\uC96C\uC988\uC9A4\uC9C0\uC9DC\uC9F8\uCA14\uCA30\uCA4C\uCA68\uCA84\uCAA0\uCABC\uCAD8\uCAF4\uCB10\uCB2C\uCB48\uCB64\uCB80\uCB9C\uCBB8\uCBD4\uCBF0\uCC0C\uCC28\uCC44\uCC60\uCC7C\uCC98\uCCB4\uCCD0\uCCEC\uCD08\uCD24\uCD40\uCD5C\uCD78\uCD94\uCDB0\uCDCC\uCDE8\uCE04\uCE20\uCE3C\uCE58\uCE74\uCE90\uCEAC\uCEC8\uCEE4\uCF00\uCF1C\uCF38\uCF54\uCF70\uCF8C\uCFA8\uCFC4\uCFE0\uCFFC\uD018\uD034\uD050\uD06C\uD088\uD0A4\uD0C0\uD0DC\uD0F8\uD114\uD130\uD14C\uD168\uD184\uD1A0\uD1BC\uD1D8\uD1F4\uD210\uD22C\uD248\uD264\uD280\uD29C\uD2B8\uD2D4\uD2F0\uD30C\uD328\uD344\uD360\uD37C\uD398\uD3B4\uD3D0\uD3EC\uD408\uD424\uD440\uD45C\uD478\uD494\uD4B0\uD4CC\uD4E8\uD504\uD520\uD53C\uD558\uD574\uD590\uD5AC\uD5C8\uD5E4\uD600\uD61C\uD638\uD654\uD670\uD68C\uD6A8\uD6C4\uD6E0\uD6FC\uD718\uD734\uD750\uD76C\uD788]$/,It=/^[\uAC01-\uAC1B\uAC1D-\uAC37\uAC39-\uAC53\uAC55-\uAC6F\uAC71-\uAC8B\uAC8D-\uACA7\uACA9-\uACC3\uACC5-\uACDF\uACE1-\uACFB\uACFD-\uAD17\uAD19-\uAD33\uAD35-\uAD4F\uAD51-\uAD6B\uAD6D-\uAD87\uAD89-\uADA3\uADA5-\uADBF\uADC1-\uADDB\uADDD-\uADF7\uADF9-\uAE13\uAE15-\uAE2F\uAE31-\uAE4B\uAE4D-\uAE67\uAE69-\uAE83\uAE85-\uAE9F\uAEA1-\uAEBB\uAEBD-\uAED7\uAED9-\uAEF3\uAEF5-\uAF0F\uAF11-\uAF2B\uAF2D-\uAF47\uAF49-\uAF63\uAF65-\uAF7F\uAF81-\uAF9B\uAF9D-\uAFB7\uAFB9-\uAFD3\uAFD5-\uAFEF\uAFF1-\uB00B\uB00D-\uB027\uB029-\uB043\uB045-\uB05F\uB061-\uB07B\uB07D-\uB097\uB099-\uB0B3\uB0B5-\uB0CF\uB0D1-\uB0EB\uB0ED-\uB107\uB109-\uB123\uB125-\uB13F\uB141-\uB15B\uB15D-\uB177\uB179-\uB193\uB195-\uB1AF\uB1B1-\uB1CB\uB1CD-\uB1E7\uB1E9-\uB203\uB205-\uB21F\uB221-\uB23B\uB23D-\uB257\uB259-\uB273\uB275-\uB28F\uB291-\uB2AB\uB2AD-\uB2C7\uB2C9-\uB2E3\uB2E5-\uB2FF\uB301-\uB31B\uB31D-\uB337\uB339-\uB353\uB355-\uB36F\uB371-\uB38B\uB38D-\uB3A7\uB3A9-\uB3C3\uB3C5-\uB3DF\uB3E1-\uB3FB\uB3FD-\uB417\uB419-\uB433\uB435-\uB44F\uB451-\uB46B\uB46D-\uB487\uB489-\uB4A3\uB4A5-\uB4BF\uB4C1-\uB4DB\uB4DD-\uB4F7\uB4F9-\uB513\uB515-\uB52F\uB531-\uB54B\uB54D-\uB567\uB569-\uB583\uB585-\uB59F\uB5A1-\uB5BB\uB5BD-\uB5D7\uB5D9-\uB5F3\uB5F5-\uB60F\uB611-\uB62B\uB62D-\uB647\uB649-\uB663\uB665-\uB67F\uB681-\uB69B\uB69D-\uB6B7\uB6B9-\uB6D3\uB6D5-\uB6EF\uB6F1-\uB70B\uB70D-\uB727\uB729-\uB743\uB745-\uB75F\uB761-\uB77B\uB77D-\uB797\uB799-\uB7B3\uB7B5-\uB7CF\uB7D1-\uB7EB\uB7ED-\uB807\uB809-\uB823\uB825-\uB83F\uB841-\uB85B\uB85D-\uB877\uB879-\uB893\uB895-\uB8AF\uB8B1-\uB8CB\uB8CD-\uB8E7\uB8E9-\uB903\uB905-\uB91F\uB921-\uB93B\uB93D-\uB957\uB959-\uB973\uB975-\uB98F\uB991-\uB9AB\uB9AD-\uB9C7\uB9C9-\uB9E3\uB9E5-\uB9FF\uBA01-\uBA1B\uBA1D-\uBA37\uBA39-\uBA53\uBA55-\uBA6F\uBA71-\uBA8B\uBA8D-\uBAA7\uBAA9-\uBAC3\uBAC5-\uBADF\uBAE1-\uBAFB\uBAFD-\uBB17\uBB19-\uBB33\uBB35-\uBB4F\uBB51-\uBB6B\uBB6D-\uBB87\uBB89-\uBBA3\uBBA5-\uBBBF\uBBC1-\uBBDB\uBBDD-\uBBF7\uBBF9-\uBC13\uBC15-\uBC2F\uBC31-\uBC4B\uBC4D-\uBC67\uBC69-\uBC83\uBC85-\uBC9F\uBCA1-\uBCBB\uBCBD-\uBCD7\uBCD9-\uBCF3\uBCF5-\uBD0F\uBD11-\uBD2B\uBD2D-\uBD47\uBD49-\uBD63\uBD65-\uBD7F\uBD81-\uBD9B\uBD9D-\uBDB7\uBDB9-\uBDD3\uBDD5-\uBDEF\uBDF1-\uBE0B\uBE0D-\uBE27\uBE29-\uBE43\uBE45-\uBE5F\uBE61-\uBE7B\uBE7D-\uBE97\uBE99-\uBEB3\uBEB5-\uBECF\uBED1-\uBEEB\uBEED-\uBF07\uBF09-\uBF23\uBF25-\uBF3F\uBF41-\uBF5B\uBF5D-\uBF77\uBF79-\uBF93\uBF95-\uBFAF\uBFB1-\uBFCB\uBFCD-\uBFE7\uBFE9-\uC003\uC005-\uC01F\uC021-\uC03B\uC03D-\uC057\uC059-\uC073\uC075-\uC08F\uC091-\uC0AB\uC0AD-\uC0C7\uC0C9-\uC0E3\uC0E5-\uC0FF\uC101-\uC11B\uC11D-\uC137\uC139-\uC153\uC155-\uC16F\uC171-\uC18B\uC18D-\uC1A7\uC1A9-\uC1C3\uC1C5-\uC1DF\uC1E1-\uC1FB\uC1FD-\uC217\uC219-\uC233\uC235-\uC24F\uC251-\uC26B\uC26D-\uC287\uC289-\uC2A3\uC2A5-\uC2BF\uC2C1-\uC2DB\uC2DD-\uC2F7\uC2F9-\uC313\uC315-\uC32F\uC331-\uC34B\uC34D-\uC367\uC369-\uC383\uC385-\uC39F\uC3A1-\uC3BB\uC3BD-\uC3D7\uC3D9-\uC3F3\uC3F5-\uC40F\uC411-\uC42B\uC42D-\uC447\uC449-\uC463\uC465-\uC47F\uC481-\uC49B\uC49D-\uC4B7\uC4B9-\uC4D3\uC4D5-\uC4EF\uC4F1-\uC50B\uC50D-\uC527\uC529-\uC543\uC545-\uC55F\uC561-\uC57B\uC57D-\uC597\uC599-\uC5B3\uC5B5-\uC5CF\uC5D1-\uC5EB\uC5ED-\uC607\uC609-\uC623\uC625-\uC63F\uC641-\uC65B\uC65D-\uC677\uC679-\uC693\uC695-\uC6AF\uC6B1-\uC6CB\uC6CD-\uC6E7\uC6E9-\uC703\uC705-\uC71F\uC721-\uC73B\uC73D-\uC757\uC759-\uC773\uC775-\uC78F\uC791-\uC7AB\uC7AD-\uC7C7\uC7C9-\uC7E3\uC7E5-\uC7FF\uC801-\uC81B\uC81D-\uC837\uC839-\uC853\uC855-\uC86F\uC871-\uC88B\uC88D-\uC8A7\uC8A9-\uC8C3\uC8C5-\uC8DF\uC8E1-\uC8FB\uC8FD-\uC917\uC919-\uC933\uC935-\uC94F\uC951-\uC96B\uC96D-\uC987\uC989-\uC9A3\uC9A5-\uC9BF\uC9C1-\uC9DB\uC9DD-\uC9F7\uC9F9-\uCA13\uCA15-\uCA2F\uCA31-\uCA4B\uCA4D-\uCA67\uCA69-\uCA83\uCA85-\uCA9F\uCAA1-\uCABB\uCABD-\uCAD7\uCAD9-\uCAF3\uCAF5-\uCB0F\uCB11-\uCB2B\uCB2D-\uCB47\uCB49-\uCB63\uCB65-\uCB7F\uCB81-\uCB9B\uCB9D-\uCBB7\uCBB9-\uCBD3\uCBD5-\uCBEF\uCBF1-\uCC0B\uCC0D-\uCC27\uCC29-\uCC43\uCC45-\uCC5F\uCC61-\uCC7B\uCC7D-\uCC97\uCC99-\uCCB3\uCCB5-\uCCCF\uCCD1-\uCCEB\uCCED-\uCD07\uCD09-\uCD23\uCD25-\uCD3F\uCD41-\uCD5B\uCD5D-\uCD77\uCD79-\uCD93\uCD95-\uCDAF\uCDB1-\uCDCB\uCDCD-\uCDE7\uCDE9-\uCE03\uCE05-\uCE1F\uCE21-\uCE3B\uCE3D-\uCE57\uCE59-\uCE73\uCE75-\uCE8F\uCE91-\uCEAB\uCEAD-\uCEC7\uCEC9-\uCEE3\uCEE5-\uCEFF\uCF01-\uCF1B\uCF1D-\uCF37\uCF39-\uCF53\uCF55-\uCF6F\uCF71-\uCF8B\uCF8D-\uCFA7\uCFA9-\uCFC3\uCFC5-\uCFDF\uCFE1-\uCFFB\uCFFD-\uD017\uD019-\uD033\uD035-\uD04F\uD051-\uD06B\uD06D-\uD087\uD089-\uD0A3\uD0A5-\uD0BF\uD0C1-\uD0DB\uD0DD-\uD0F7\uD0F9-\uD113\uD115-\uD12F\uD131-\uD14B\uD14D-\uD167\uD169-\uD183\uD185-\uD19F\uD1A1-\uD1BB\uD1BD-\uD1D7\uD1D9-\uD1F3\uD1F5-\uD20F\uD211-\uD22B\uD22D-\uD247\uD249-\uD263\uD265-\uD27F\uD281-\uD29B\uD29D-\uD2B7\uD2B9-\uD2D3\uD2D5-\uD2EF\uD2F1-\uD30B\uD30D-\uD327\uD329-\uD343\uD345-\uD35F\uD361-\uD37B\uD37D-\uD397\uD399-\uD3B3\uD3B5-\uD3CF\uD3D1-\uD3EB\uD3ED-\uD407\uD409-\uD423\uD425-\uD43F\uD441-\uD45B\uD45D-\uD477\uD479-\uD493\uD495-\uD4AF\uD4B1-\uD4CB\uD4CD-\uD4E7\uD4E9-\uD503\uD505-\uD51F\uD521-\uD53B\uD53D-\uD557\uD559-\uD573\uD575-\uD58F\uD591-\uD5AB\uD5AD-\uD5C7\uD5C9-\uD5E3\uD5E5-\uD5FF\uD601-\uD61B\uD61D-\uD637\uD639-\uD653\uD655-\uD66F\uD671-\uD68B\uD68D-\uD6A7\uD6A9-\uD6C3\uD6C5-\uD6DF\uD6E1-\uD6FB\uD6FD-\uD717\uD719-\uD733\uD735-\uD74F\uD751-\uD76B\uD76D-\uD787\uD789-\uD7A3]$/,Tt=/^(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])$/,Mt=function(e,t){var r=yt.Any;return-1!==e.search(jt)&&(r|=yt.Extend),8205===t&&(r|=yt.ZWJ),t>=127462&&t<=127487&&(r|=yt.RI),-1!==e.search(Pt)&&(r|=yt.Prepend),-1!==e.search(kt)&&(r|=yt.SpacingMark),-1!==e.search(St)&&(r|=yt.L),-1!==e.search(Nt)&&(r|=yt.V),-1!==e.search(_t)&&(r|=yt.T),-1!==e.search(Rt)&&(r|=yt.LV),-1!==e.search(It)&&(r|=yt.LVT),-1!==e.search(Tt)&&(r|=yt.ExtPict),r};function Lt(e,t){return 0!=(e&t)}var zt=[[yt.L,yt.L|yt.V|yt.LV|yt.LVT],[yt.LV|yt.V,yt.V|yt.T],[yt.LVT|yt.T,yt.T],[yt.Any,yt.Extend|yt.ZWJ],[yt.Any,yt.SpacingMark],[yt.Prepend,yt.Any],[yt.ZWJ,yt.ExtPict],[yt.RI,yt.RI]];function qt(e,t){return-1===zt.findIndex((function(r){return Lt(e,r[0])&&Lt(t,r[1])}))}var Vt=/(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1AC0\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDF46-\uDF50]|\uD804[\uDC01\uDC38-\uDC46\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD30-\uDD36\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])*\u200D$/,$t=function(e){return-1!==e.search(Vt)},Ut=/(?:\uD83C[\uDDE6-\uDDFF])+$/g,Wt=function(e){var t=e.match(Ut);return null!==t&&t[0].length/2%2==1},Gt={delete:function(e,t){e.delete(t)},insertFragment:function(e,t,r){e.insertFragment(t,r)},insertText:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Qe.withoutNormalizing(e,(function(){var n=r.voids,u=void 0!==n&&n,o=r.at,i=void 0===o?dt(e):o;if(B.isPath(i)&&(i=Qe.range(e,i)),Le.isRange(i))if(Le.isCollapsed(i))i=i.anchor;else{var a=Le.end(i);if(!u&&Qe.void(e,{at:a}))return;var c=Le.start(i),s=Qe.pointRef(e,c),f=Qe.pointRef(e,a);Zt.delete(e,{at:i,voids:u});var l=s.unref(),D=f.unref();i=l||D,Zt.setSelection(e,{anchor:i,focus:i})}if(!(!u&&Qe.void(e,{at:i})||Qe.elementReadOnly(e,{at:i}))){var p=i,d=p.path,v=p.offset;t.length>0&&e.apply({type:"insert_text",path:d,offset:v,text:t})}}))}};function Jt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Kt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Jt(Object(r),!0).forEach((function(t){A(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Zt=Kt(Kt(Kt(Kt({},Oe),{insertNodes:function(e,t,r){e.insertNodes(t,r)},liftNodes:function(e,t){e.liftNodes(t)},mergeNodes:function(e,t){e.mergeNodes(t)},moveNodes:function(e,t){e.moveNodes(t)},removeNodes:function(e,t){e.removeNodes(t)},setNodes:function(e,t,r){e.setNodes(t,r)},splitNodes:function(e,t){e.splitNodes(t)},unsetNodes:function(e,t,r){e.unsetNodes(t,r)},unwrapNodes:function(e,t){e.unwrapNodes(t)},wrapNodes:function(e,t,r){e.wrapNodes(t,r)}}),{collapse:function(e,t){e.collapse(t)},deselect:function(e){e.deselect()},move:function(e,t){e.move(t)},select:function(e,t){e.select(t)},setPoint:function(e,t,r){e.setPoint(t,r)},setSelection:function(e,t){e.setSelection(t)}}),Gt);function Yt(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return Xt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xt(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,u=function(){};return{s:u,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:u}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw o}}}}function Xt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ht=function(e,a){var c,s=Yt(Qe.pathRefs(e));try{for(s.s();!(c=s.n()).done;){var f=c.value;t.transform(f,a)}}catch(e){s.e(e)}finally{s.f()}var l,D=Yt(Qe.pointRefs(e));try{for(D.s();!(l=D.n()).done;){var p=l.value;r.transform(p,a)}}catch(e){D.e(e)}finally{D.f()}var d,v=Yt(Qe.rangeRefs(e));try{for(v.s();!(d=v.n()).done;){var h=d.value;n.transform(h,a)}}catch(e){v.e(e)}finally{v.f()}var C,y,A=u.get(e)||[],g=o.get(e)||new Set,m=function(e){if(e){var t=e.join(",");y.has(t)||(y.add(t),C.push(e))}};if(B.operationCanTransformPath(a)){C=[],y=new Set;var E,F=Yt(A);try{for(F.s();!(E=F.n()).done;){var b=E.value;m(B.transform(b,a))}}catch(e){F.e(e)}finally{F.f()}}else C=A,y=g;var w,x=Yt(e.getDirtyPaths(a));try{for(x.s();!(w=x.n()).done;){m(w.value)}}catch(e){x.e(e)}finally{x.f()}u.set(e,C),o.set(e,y),Zt.transform(e,a),e.operations.push(a),Qe.normalize(e,{operation:a}),"set_selection"===a.type&&(e.marks=null),i.get(e)||(i.set(e,!0),Promise.resolve().then((function(){i.set(e,!1),e.onChange({operation:a}),e.operations=[]})))};function Qt(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return er(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return er(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,u=function(){};return{s:u,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:u}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw o}}}}function er(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var tr=function(e,t){switch(t.type){case"insert_text":case"remove_text":case"set_node":var r=t.path;return B.levels(r);case"insert_node":var n=t.node,u=t.path,o=B.levels(u),i=pt.isText(n)?[]:Array.from(Je.nodes(n),(function(e){var t=b(e,2)[1];return u.concat(t)}));return[].concat(y(o),y(i));case"merge_node":var a=t.path,c=B.ancestors(a),s=B.previous(a);return[].concat(y(c),[s]);case"move_node":var f=t.path,l=t.newPath;if(B.equals(f,l))return[];var D,p=[],d=[],v=Qt(B.ancestors(f));try{for(v.s();!(D=v.n()).done;){var h=D.value,C=B.transform(h,t);p.push(C)}}catch(e){v.e(e)}finally{v.f()}var A,g=Qt(B.ancestors(l));try{for(g.s();!(A=g.n()).done;){var m=A.value,E=B.transform(m,t);d.push(E)}}catch(e){g.e(e)}finally{g.f()}var F=d[d.length-1],w=l[l.length-1],x=F.concat(w);return[].concat(p,d,[x]);case"remove_node":var O=t.path,j=B.ancestors(O);return y(j);case"split_node":var P=t.path,k=B.levels(P),S=B.next(P);return[].concat(y(k),[S]);default:return[]}},rr=function(e){var t=e.selection;return t?Je.fragment(e,t):[]},nr=function(e,t){var r=b(t,2),n=r[0],u=r[1];if(!pt.isText(n))if(qe.isElement(n)&&0===n.children.length){Zt.insertNodes(e,{text:""},{at:u.concat(0),voids:!0})}else for(var o=!Qe.isEditor(n)&&(qe.isElement(n)&&(e.isInline(n)||0===n.children.length||pt.isText(n.children[0])||e.isInline(n.children[0]))),i=0,a=0;a<n.children.length;a++,i++){var c=Je.get(e,u);if(!pt.isText(c)){var s=c.children[i],f=c.children[i-1],l=a===n.children.length-1;if((pt.isText(s)||qe.isElement(s)&&e.isInline(s))!==o)Zt.removeNodes(e,{at:u.concat(i),voids:!0}),i--;else if(qe.isElement(s)){if(e.isInline(s))if(null!=f&&pt.isText(f)){if(l){Zt.insertNodes(e,{text:""},{at:u.concat(i+1),voids:!0}),i++}}else{Zt.insertNodes(e,{text:""},{at:u.concat(i),voids:!0}),i++}}else null!=f&&pt.isText(f)&&(pt.equals(s,f,{loose:!0})?(Zt.mergeNodes(e,{at:u.concat(i),voids:!0}),i--):""===f.text?(Zt.removeNodes(e,{at:u.concat(i-1),voids:!0}),i--):""===s.text&&(Zt.removeNodes(e,{at:u.concat(i),voids:!0}),i--))}}},ur=function(e,t){var r=t.iteration,n=42*t.initialDirtyPathsLength;if(r>n)throw new Error("Could not completely normalize the editor after ".concat(n," iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state."));return!0};function or(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return ir(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ir(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,u=function(){};return{s:u,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:u}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw o}}}}function ir(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ar=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.voids,n=void 0!==r&&r,u=t.mode,o=void 0===u?"lowest":u,i=t.at,a=void 0===i?e.selection:i,c=t.match;if(a){var s,f=Qe.path(e,a),l="lowest"===o,D=or(Qe.levels(e,{at:f,voids:n,match:c,reverse:l}));try{for(D.s();!(s=D.n()).done;){var p=b(s.value,2),d=p[0],v=p[1];if(!pt.isText(d))if(Le.isRange(a)){if(B.isAncestor(v,a.anchor.path)&&B.isAncestor(v,a.focus.path))return[d,v]}else if(!B.equals(f,v))return[d,v]}}catch(e){D.e(e)}finally{D.f()}}};function cr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function sr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cr(Object(r),!0).forEach((function(t){A(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var fr=function(e,t,r){var n=e.selection;if(n){var u=function(t,r){if(!pt.isText(t))return!1;var n=Qe.parent(e,r),u=b(n,2),o=u[0];return u[1],!e.isVoid(o)||e.markableVoid(o)},o=Le.isExpanded(n),a=!1;if(!o){var c=Qe.node(e,n),s=b(c,2),f=s[0],l=s[1];if(f&&u(f,l)){var D=Qe.parent(e,l),p=b(D,1)[0];a=p&&e.markableVoid(p)}}if(o||a)Zt.setNodes(e,A({},t,r),{match:u,split:!0,voids:!0});else{var d=sr(sr({},Qe.marks(e)||{}),{},A({},t,r));e.marks=d,i.get(e)||e.onChange()}}};function lr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Dr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?lr(Object(r),!0).forEach((function(t){A(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function pr(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return dr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dr(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,u=function(){};return{s:u,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:u}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw o}}}}function dr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var vr=function(e,t){var r,n,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=Qe.point(e,t,{edge:"end"}),i=Qe.end(e,[]),a={anchor:o,focus:i},c=u.distance,s=void 0===c?1:c,f=0,l=pr(Qe.positions(e,Dr(Dr({},u),{},{at:a})));try{for(l.s();!(n=l.n()).done;){var D=n.value;if(f>s)break;0!==f&&(r=D),f++}}catch(e){l.e(e)}finally{l.f()}return r};function hr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Cr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?hr(Object(r),!0).forEach((function(t){A(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function yr(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return Br(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Br(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,u=function(){};return{s:u,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:u}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw o}}}}function Br(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ar=function(e,t){var r,n,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=Qe.start(e,[]),i=Qe.point(e,t,{edge:"start"}),a={anchor:o,focus:i},c=u.distance,s=void 0===c?1:c,f=0,l=yr(Qe.positions(e,Cr(Cr({},u),{},{at:a,reverse:!0})));try{for(l.s();!(n=l.n()).done;){var D=n.value;if(f>s)break;0!==f&&(r=D),f++}}catch(e){l.e(e)}finally{l.f()}return r},gr=function(e,t){var r=e.selection;r&&Le.isCollapsed(r)&&Zt.delete(e,{unit:t,reverse:!0})},mr=function(e,t){var r=e.selection;r&&Le.isCollapsed(r)&&Zt.delete(e,{unit:t})},Er=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.direction,n=void 0===r?"forward":r,u=e.selection;u&&Le.isExpanded(u)&&Zt.delete(e,{reverse:"backward"===n})},Fr=function(e,t){return[Qe.start(e,t),Qe.end(e,t)]};function br(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function wr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?br(Object(r),!0).forEach((function(t){A(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):br(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var xr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Qe.above(e,wr(wr({},t),{},{match:function(t){return qe.isElement(t)&&Qe.isElementReadOnly(e,t)}}))},Or=function(e,t){return Qe.point(e,t,{edge:"end"})},jr=function(e,t){var r=Qe.path(e,t,{edge:"start"});return Qe.node(e,r)},Pr=function(e,t){var r=Qe.range(e,t);return Je.fragment(e,r)};function kr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Sr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?kr(Object(r),!0).forEach((function(t){A(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Nr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Qe.above(e,Sr(Sr({},t),{},{match:function(t){return qe.isElement(t)&&Qe.isVoid(e,t)}}))},_r=function(e,t){return t.children.some((function(t){return qe.isElement(t)&&Qe.isBlock(e,t)}))},Rr=function(e,t){return t.children.some((function(t){return pt.isText(t)||Qe.isInline(e,t)}))},Ir=function(e,t){return Je.has(e,t)},Tr=function(e,t){return t.children.every((function(e){return pt.isText(e)}))},Mr=function(e){Zt.splitNodes(e,{always:!0})},Lr=function(e,t,r){Zt.insertNodes(e,t,r)},zr=function(e){Zt.splitNodes(e,{always:!0})};function qr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Vr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qr(Object(r),!0).forEach((function(t){A(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var $r=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=e.selection,u=e.marks;if(n){if(u){var o=Vr({text:t},u);Zt.insertNodes(e,o,{at:r.at,voids:r.voids})}else Zt.insertText(e,t,r);e.marks=null}},Ur=function(e,t){return!e.isInline(t)},Wr=function(e,t,r){return Qe.isStart(e,t,r)||Qe.isEnd(e,t,r)},Gr=function(e,t){var r=t.children,n=b(r,1)[0];return 0===r.length||1===r.length&&pt.isText(n)&&""===n.text&&!e.isVoid(t)},Jr=function(e,t,r){var n=Qe.end(e,r);return ut.equals(t,n)},Kr=function(e){var t=a.get(e);return void 0===t||t},Zr=function(e,t,r){if(0!==t.offset)return!1;var n=Qe.start(e,r);return ut.equals(t,n)},Yr=function(e,t){var r=Qe.path(e,t,{edge:"end"});return Qe.node(e,r)},Xr=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=Qe.path(e,t,r),u=Je.leaf(e,n);return[u,n]},Hr=Ie.mark(tn);function Qr(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return en(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return en(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,u=function(){};return{s:u,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:u}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw o}}}}function en(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tn(e){var t,r,n,u,o,i,a,c,s,f,l,D,p,d,v,h=arguments;return Ie.wrap((function(C){for(;;)switch(C.prev=C.next){case 0:if(t=h.length>1&&void 0!==h[1]?h[1]:{},r=t.at,n=void 0===r?e.selection:r,u=t.reverse,o=void 0!==u&&u,i=t.voids,a=void 0!==i&&i,null==(c=t.match)&&(c=function(){return!0}),n){C.next=6;break}return C.abrupt("return");case 6:s=[],f=Qe.path(e,n),l=Qr(Je.levels(e,f)),C.prev=9,l.s();case 11:if((D=l.n()).done){C.next=20;break}if(p=b(D.value,2),d=p[0],v=p[1],c(d,v)){C.next=15;break}return C.abrupt("continue",18);case 15:if(s.push([d,v]),a||!qe.isElement(d)||!Qe.isVoid(e,d)){C.next=18;break}return C.abrupt("break",20);case 18:C.next=11;break;case 20:C.next=25;break;case 22:C.prev=22,C.t0=C.catch(9),l.e(C.t0);case 25:return C.prev=25,l.f(),C.finish(25);case 28:return o&&s.reverse(),C.delegateYield(s,"t1",30);case 30:case"end":return C.stop()}}),Hr,null,[[9,22,25,28]])}var rn=["text"],nn=["text"],un=function(e){var t=e.marks,r=e.selection;if(!r)return null;if(t)return t;if(Le.isExpanded(r)){var n=Qe.nodes(e,{match:pt.isText}),u=b(n,1)[0];if(u){var o=b(u,1)[0];return o.text,_e(o,rn)}return{}}var i=r.anchor,a=i.path,c=Qe.leaf(e,a),s=b(c,1)[0];if(0===i.offset){var f=Qe.previous(e,{at:a,match:pt.isText}),l=Qe.above(e,{match:function(t){return qe.isElement(t)&&Qe.isVoid(e,t)&&e.markableVoid(t)}});if(!l){var D=Qe.above(e,{match:function(t){return qe.isElement(t)&&Qe.isBlock(e,t)}});if(f&&D){var p=b(f,2),d=p[0],v=p[1],h=b(D,2)[1];B.isAncestor(h,v)&&(s=d)}}}var C=s;return C.text,_e(C,nn)},on=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.mode,n=void 0===r?"lowest":r,u=t.voids,o=void 0!==u&&u,i=t.match,a=t.at,c=void 0===a?e.selection:a;if(c){var s=Qe.after(e,c,{voids:o});if(s){var f=Qe.last(e,[]),l=b(f,2),D=l[1],p=[s.path,D];if(B.isPath(c)&&0===c.length)throw new Error("Cannot get the next node from the root node!");if(null==i)if(B.isPath(c)){var d=Qe.parent(e,c),v=b(d,1),h=v[0];i=function(e){return h.children.includes(e)}}else i=function(){return!0};var C=Qe.nodes(e,{at:p,match:i,mode:n,voids:o}),y=b(C,1),A=y[0];return A}}},an=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=Qe.path(e,t,r),u=Je.get(e,n);return[u,n]},cn=Ie.mark(ln);function sn(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return fn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fn(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,u=function(){};return{s:u,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:u}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw o}}}}function fn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ln(e){var t,r,n,u,o,i,a,c,s,f,l,D,p,d,v,h,C,y,A,g,m,E,F,w,x,O,j,P,k=arguments;return Ie.wrap((function(S){for(;;)switch(S.prev=S.next){case 0:if(t=k.length>1&&void 0!==k[1]?k[1]:{},r=t.at,n=void 0===r?e.selection:r,u=t.mode,o=void 0===u?"all":u,i=t.universal,a=void 0!==i&&i,c=t.reverse,s=void 0!==c&&c,f=t.voids,l=void 0!==f&&f,D=t.ignoreNonSelectable,p=void 0!==D&&D,(d=t.match)||(d=function(){return!0}),n){S.next=6;break}return S.abrupt("return");case 6:tt.isSpan(n)?(v=n[0],h=n[1]):(C=Qe.path(e,n,{edge:"start"}),y=Qe.path(e,n,{edge:"end"}),v=s?y:C,h=s?C:y),A=Je.nodes(e,{reverse:s,from:v,to:h,pass:function(t){var r=b(t,1)[0];return!!qe.isElement(r)&&(!(l||!Qe.isVoid(e,r)&&!Qe.isElementReadOnly(e,r))||!(!p||Qe.isSelectable(e,r)))}}),g=[],E=sn(A),S.prev=10,E.s();case 12:if((F=E.n()).done){S.next=39;break}if(w=b(F.value,2),x=w[0],O=w[1],!p||!qe.isElement(x)||Qe.isSelectable(e,x)){S.next=16;break}return S.abrupt("continue",37);case 16:if(j=m&&0===B.compare(O,m[1]),"highest"!==o||!j){S.next=19;break}return S.abrupt("continue",37);case 19:if(d(x,O)){S.next=25;break}if(!a||j||!pt.isText(x)){S.next=24;break}return S.abrupt("return");case 24:return S.abrupt("continue",37);case 25:if("lowest"!==o||!j){S.next=28;break}return m=[x,O],S.abrupt("continue",37);case 28:if(!(P="lowest"===o?m:[x,O])){S.next=36;break}if(!a){S.next=34;break}g.push(P),S.next=36;break;case 34:return S.next=36,P;case 36:m=[x,O];case 37:S.next=12;break;case 39:S.next=44;break;case 41:S.prev=41,S.t0=S.catch(10),E.e(S.t0);case 44:return S.prev=44,E.f(),S.finish(44);case 47:if("lowest"!==o||!m){S.next=54;break}if(!a){S.next=52;break}g.push(m),S.next=54;break;case 52:return S.next=54,m;case 54:if(!a){S.next=56;break}return S.delegateYield(g,"t1",56);case 56:case"end":return S.stop()}}),cn,null,[[10,41,44,47]])}function Dn(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return pn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pn(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,u=function(){};return{s:u,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:u}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw o}}}}function pn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var dn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.force,n=void 0!==r&&r,i=t.operation,a=function(e){return u.get(e)||[]},c=function(e){return o.get(e)||new Set},s=function(e){var t=a(e).pop(),r=t.join(",");return c(e).delete(r),t};if(Qe.isNormalizing(e)){if(n){var f=Array.from(Je.nodes(e),(function(e){return b(e,2)[1]})),l=new Set(f.map((function(e){return e.join(",")})));u.set(e,f),o.set(e,l)}0!==a(e).length&&Qe.withoutNormalizing(e,(function(){var t,r=Dn(a(e));try{for(r.s();!(t=r.n()).done;){var n=t.value;if(Je.has(e,n)){var u=Qe.node(e,n),o=b(u,2),c=o[0];o[1];qe.isElement(c)&&0===c.children.length&&e.normalizeNode(u,{operation:i})}}}catch(e){r.e(e)}finally{r.f()}for(var f=a(e),l=f.length,D=0;0!==f.length;){if(!e.shouldNormalize({dirtyPaths:f,iteration:D,initialDirtyPathsLength:l,operation:i}))return;var p=s(e);if(Je.has(e,p)){var d=Qe.node(e,p);e.normalizeNode(d,{operation:i})}D++,f=a(e)}}))}},vn=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=Qe.path(e,t,r),u=B.parent(n),o=Qe.node(e,u);return o},hn=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.affinity,u=void 0===n?"forward":n,o={current:t,affinity:u,unref:function(){var t=o.current;return Qe.pathRefs(e).delete(o),o.current=null,t}},i=Qe.pathRefs(e);return i.add(o),o},Cn=function(e){var t=c.get(e);return t||(t=new Set,c.set(e,t)),t},yn=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.depth,u=r.edge;if(B.isPath(t))if("start"===u){var o=Je.first(e,t),i=b(o,2),a=i[1];t=a}else if("end"===u){var c=Je.last(e,t),s=b(c,2),f=s[1];t=f}return Le.isRange(t)&&(t="start"===u?Le.start(t):"end"===u?Le.end(t):B.common(t.anchor.path,t.focus.path)),ut.isPoint(t)&&(t=t.path),null!=n&&(t=t.slice(0,n)),t},Bn=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.affinity,u=void 0===n?"forward":n,o={current:t,affinity:u,unref:function(){var t=o.current;return Qe.pointRefs(e).delete(o),o.current=null,t}},i=Qe.pointRefs(e);return i.add(o),o},An=function(e){var t=s.get(e);return t||(t=new Set,s.set(e,t)),t},gn=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.edge,u=void 0===n?"start":n;if(B.isPath(t)){var o;if("end"===u){var i=Je.last(e,t),a=b(i,2),c=a[1];o=c}else{var s=Je.first(e,t),f=b(s,2),l=f[1];o=l}var D=Je.get(e,o);if(!pt.isText(D))throw new Error("Cannot get the ".concat(u," point in the node at path [").concat(t,"] because it has no ").concat(u," text node."));return{path:o,offset:"end"===u?D.text.length:0}}if(Le.isRange(t)){var p=Le.edges(t),d=b(p,2),v=d[0],h=d[1];return"start"===u?v:h}return t},mn=Ie.mark(bn);function En(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return Fn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Fn(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,u=function(){};return{s:u,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:u}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw o}}}}function Fn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function bn(e){var t,r,n,u,o,i,a,c,s,f,l,D,p,d,v,h,C,y,A,g,m,E,F,w,x,O,j,P,k,S,N,_=arguments;return Ie.wrap((function(R){for(;;)switch(R.prev=R.next){case 0:if(N=function(e,t,r){return"character"===t?Bt(e,r):"word"===t?Et(e,r):"line"===t||"block"===t?e.length:1},t=_.length>1&&void 0!==_[1]?_[1]:{},r=t.at,n=void 0===r?e.selection:r,u=t.unit,o=void 0===u?"offset":u,i=t.reverse,a=void 0!==i&&i,c=t.voids,s=void 0!==c&&c,f=t.ignoreNonSelectable,l=void 0!==f&&f,n){R.next=5;break}return R.abrupt("return");case 5:D=Qe.range(e,n),p=Le.edges(D),d=b(p,2),v=d[0],h=d[1],C=a?h:v,y=!1,A="",g=0,m=0,E=0,F=En(Qe.nodes(e,{at:n,reverse:a,voids:s,ignoreNonSelectable:l})),R.prev=14,F.s();case 16:if((w=F.n()).done){R.next=51;break}if(x=b(w.value,2),O=x[0],j=x[1],!qe.isElement(O)){R.next=26;break}if(s||!e.isVoid(O)&&!e.isElementReadOnly(O)){R.next=23;break}return R.next=22,Qe.start(e,j);case 22:return R.abrupt("continue",49);case 23:if(!e.isInline(O)){R.next=25;break}return R.abrupt("continue",49);case 25:Qe.hasInlines(e,O)&&(P=B.isAncestor(j,h.path)?h:Qe.end(e,j),k=B.isAncestor(j,v.path)?v:Qe.start(e,j),A=Qe.string(e,{anchor:k,focus:P},{voids:s}),y=!0);case 26:if(!pt.isText(O)){R.next=49;break}if((S=B.equals(j,C.path))?(m=a?C.offset:O.text.length-C.offset,E=C.offset):(m=O.text.length,E=a?m:0),!S&&!y&&"offset"!==o){R.next=33;break}return R.next=32,{path:j,offset:E};case 32:y=!1;case 33:if(0!==g){R.next=39;break}if(""!==A){R.next=37;break}return R.abrupt("break",49);case 37:g=N(A,o,a),A=Ft(A,g,a)[1];case 39:if(E=a?E-g:E+g,!((m-=g)<0)){R.next=44;break}return g=-m,R.abrupt("break",49);case 44:return g=0,R.next=47,{path:j,offset:E};case 47:R.next=33;break;case 49:R.next=16;break;case 51:R.next=56;break;case 53:R.prev=53,R.t0=R.catch(14),F.e(R.t0);case 56:return R.prev=56,F.f(),R.finish(56);case 59:case"end":return R.stop()}}),mn,null,[[14,53,56,59]])}var wn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.mode,n=void 0===r?"lowest":r,u=t.voids,o=void 0!==u&&u,i=t.match,a=t.at,c=void 0===a?e.selection:a;if(c){var s=Qe.before(e,c,{voids:o});if(s){var f=Qe.first(e,[]),l=b(f,2),D=l[1],p=[s.path,D];if(B.isPath(c)&&0===c.length)throw new Error("Cannot get the previous node from the root node!");if(null==i)if(B.isPath(c)){var d=Qe.parent(e,c),v=b(d,1),h=v[0];i=function(e){return h.children.includes(e)}}else i=function(){return!0};var C=Qe.nodes(e,{reverse:!0,at:p,match:i,mode:n,voids:o}),y=b(C,1),A=y[0];return A}}},xn=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.affinity,u=void 0===n?"forward":n,o={current:t,affinity:u,unref:function(){var t=o.current;return Qe.rangeRefs(e).delete(o),o.current=null,t}},i=Qe.rangeRefs(e);return i.add(o),o},On=function(e){var t=f.get(e);return t||(t=new Set,f.set(e,t)),t},jn=function(e,t,r){return Le.isRange(t)&&!r?t:{anchor:Qe.start(e,t),focus:Qe.end(e,r||t)}};function Pn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var kn=function(e,t){var r=e.selection;if(r){var n=function(t,r){if(!pt.isText(t))return!1;var n=Qe.parent(e,r),u=b(n,2),o=u[0];return u[1],!e.isVoid(o)||e.markableVoid(o)},u=Le.isExpanded(r),o=!1;if(!u){var a=Qe.node(e,r),c=b(a,2),s=c[0],f=c[1];if(s&&n(s,f)){var l=Qe.parent(e,f),D=b(l,1)[0];o=D&&e.markableVoid(D)}}if(u||o)Zt.unsetNodes(e,t,{match:n,split:!0,voids:!0});else{var p=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pn(Object(r),!0).forEach((function(t){A(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},Qe.marks(e)||{});delete p[t],e.marks=p,i.get(e)||e.onChange()}}},Sn=function(e,t){a.set(e,t)},Nn=function(e,t){return Qe.point(e,t,{edge:"start"})};function _n(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return Rn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Rn(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,u=function(){};return{s:u,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:u}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw o}}}}function Rn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var In=function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=n.voids,o=void 0!==u&&u,i=Qe.range(e,t),a=Le.edges(i),c=b(a,2),s=c[0],f=c[1],l="",D=_n(Qe.nodes(e,{at:i,match:pt.isText,voids:o}));try{for(D.s();!(r=D.n()).done;){var p=b(r.value,2),d=p[0],v=p[1],h=d.text;B.equals(v,f.path)&&(h=h.slice(0,f.offset)),B.equals(v,s.path)&&(h=h.slice(s.offset)),l+=h}}catch(e){D.e(e)}finally{D.f()}return l};function Tn(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return Mn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Mn(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,u=function(){};return{s:u,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:u}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw o}}}}function Mn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ln=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.voids,u=void 0!==n&&n,o=Le.edges(t),i=b(o,2),a=i[0],c=i[1];if(0!==a.offset||0!==c.offset||Le.isCollapsed(t)||B.hasPrevious(c.path))return t;var s,f=Qe.above(e,{at:c,match:function(t){return qe.isElement(t)&&Qe.isBlock(e,t)},voids:u}),l=f?f[1]:[],D=Qe.start(e,a),p={anchor:D,focus:c},d=!0,v=Tn(Qe.nodes(e,{at:p,match:pt.isText,reverse:!0,voids:u}));try{for(v.s();!(s=v.n()).done;){var h=b(s.value,2),C=h[0],y=h[1];if(d)d=!1;else if(""!==C.text||B.isBefore(y,l)){c={path:y,offset:C.text.length};break}}}catch(e){v.e(e)}finally{v.f()}return{anchor:a,focus:c}},zn=function(e,t){var r=Qe.isNormalizing(e);Qe.setNormalizing(e,!1);try{t()}finally{Qe.setNormalizing(e,r)}Qe.normalize(e)};function qn(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return Vn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Vn(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,u=function(){};return{s:u,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:u}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw o}}}}function Vn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var $n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Qe.withoutNormalizing(e,(function(){var r,n,u=t.reverse,o=void 0!==u&&u,i=t.unit,a=void 0===i?"character":i,c=t.distance,s=void 0===c?1:c,f=t.voids,l=void 0!==f&&f,D=t.at,p=void 0===D?e.selection:D,d=t.hanging,v=void 0!==d&&d;if(p){var h=!1;if(Le.isRange(p)&&Le.isCollapsed(p)&&(h=!0,p=p.anchor),ut.isPoint(p)){var C=Qe.void(e,{at:p,mode:"highest"});if(!l&&C){p=b(C,2)[1]}else{var y={unit:a,distance:s};p={anchor:p,focus:o?Qe.before(e,p,y)||Qe.start(e,[]):Qe.after(e,p,y)||Qe.end(e,[])},v=!0}}if(B.isPath(p))Zt.removeNodes(e,{at:p,voids:l});else if(!Le.isCollapsed(p)){if(!v){var A=Le.edges(p),g=b(A,2)[1],m=Qe.end(e,[]);ut.equals(g,m)||(p=Qe.unhangRange(e,p,{voids:l}))}var E=Le.edges(p),F=b(E,2),w=F[0],x=F[1],O=Qe.above(e,{match:function(t){return qe.isElement(t)&&Qe.isBlock(e,t)},at:w,voids:l}),j=Qe.above(e,{match:function(t){return qe.isElement(t)&&Qe.isBlock(e,t)},at:x,voids:l}),P=O&&j&&!B.equals(O[1],j[1]),k=B.equals(w.path,x.path),S=l?null:null!==(r=Qe.void(e,{at:w,mode:"highest"}))&&void 0!==r?r:Qe.elementReadOnly(e,{at:w,mode:"highest"}),N=l?null:null!==(n=Qe.void(e,{at:x,mode:"highest"}))&&void 0!==n?n:Qe.elementReadOnly(e,{at:x,mode:"highest"});if(S){var _=Qe.before(e,w);_&&O&&B.isAncestor(O[1],_.path)&&(w=_)}if(N){var R=Qe.after(e,x);R&&j&&B.isAncestor(j[1],R.path)&&(x=R)}var I,T,M=[],L=qn(Qe.nodes(e,{at:p,voids:l}));try{for(L.s();!(T=L.n()).done;){var z=T.value,q=b(z,2),V=q[0],$=q[1];I&&0===B.compare($,I)||(!l&&qe.isElement(V)&&(Qe.isVoid(e,V)||Qe.isElementReadOnly(e,V))||!B.isCommon($,w.path)&&!B.isCommon($,x.path))&&(M.push(z),I=$)}}catch(e){L.e(e)}finally{L.f()}var U=Array.from(M,(function(t){var r=b(t,2)[1];return Qe.pathRef(e,r)})),W=Qe.pointRef(e,w),G=Qe.pointRef(e,x),J="";if(!k&&!S){var K=W.current,Z=Qe.leaf(e,K),Y=b(Z,1)[0],X=K.path,H=w.offset,Q=Y.text.slice(H);Q.length>0&&(e.apply({type:"remove_text",path:X,offset:H,text:Q}),J=Q)}if(U.reverse().map((function(e){return e.unref()})).filter((function(e){return null!==e})).forEach((function(t){return Zt.removeNodes(e,{at:t,voids:l})})),!N){var ee=G.current,te=Qe.leaf(e,ee),re=b(te,1)[0],ne=ee.path,ue=k?w.offset:0,oe=re.text.slice(ue,x.offset);oe.length>0&&(e.apply({type:"remove_text",path:ne,offset:ue,text:oe}),J=oe)}!k&&P&&G.current&&W.current&&Zt.mergeNodes(e,{at:G.current,hanging:!0,voids:l}),h&&o&&"character"===a&&J.length>1&&J.match(/[\u0E00-\u0E7F]+/)&&Zt.insertText(e,J.slice(0,J.length-s));var ie=W.unref(),ae=G.unref(),ce=o?ie||ae:ae||ie;null==t.at&&ce&&Zt.select(e,ce)}}}))};function Un(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return Wn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Wn(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,u=function(){};return{s:u,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:u}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw o}}}}function Wn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Gn=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Qe.withoutNormalizing(e,(function(){var n=r.hanging,u=void 0!==n&&n,o=r.voids,i=void 0!==o&&o,a=r.at,c=void 0===a?dt(e):a;if(t.length){if(Le.isRange(c))if(u||(c=Qe.unhangRange(e,c,{voids:i})),Le.isCollapsed(c))c=c.anchor;else{var s=Le.edges(c),f=b(s,2)[1];if(!i&&Qe.void(e,{at:f}))return;var l=Qe.pointRef(e,f);Zt.delete(e,{at:c}),c=l.unref()}else B.isPath(c)&&(c=Qe.start(e,c));if(i||!Qe.void(e,{at:c})){var D=Qe.above(e,{at:c,match:function(t){return qe.isElement(t)&&Qe.isInline(e,t)},mode:"highest",voids:i});if(D){var p=b(D,2)[1];if(Qe.isEnd(e,c,p))c=Qe.after(e,p);else if(Qe.isStart(e,c,p)){c=Qe.before(e,p)}}var d,v=Qe.above(e,{match:function(t){return qe.isElement(t)&&Qe.isBlock(e,t)},at:c,voids:i}),h=b(v,2)[1],C=Qe.isStart(e,c,h),y=Qe.isEnd(e,c,h),A=C&&y,g=!C||C&&y,m=!y,E=Je.first({children:t},[]),F=b(E,2)[1],w=Je.last({children:t},[]),x=b(w,2)[1],O=[],j=function(t){var r=b(t,2),n=r[0],u=r[1];return!(0===u.length)&&(!!A||!(g&&B.isAncestor(u,F)&&qe.isElement(n)&&!e.isVoid(n)&&!e.isInline(n))&&!(m&&B.isAncestor(u,x)&&qe.isElement(n)&&!e.isVoid(n)&&!e.isInline(n)))},P=Un(Je.nodes({children:t},{pass:j}));try{for(P.s();!(d=P.n()).done;){var k=d.value;j(k)&&O.push(k)}}catch(e){P.e(e)}finally{P.f()}for(var S=[],N=[],_=[],R=!0,I=!1,T=0,M=O;T<M.length;T++){var L=b(M[T],1)[0];qe.isElement(L)&&!e.isInline(L)?(R=!1,I=!0,N.push(L)):R?S.push(L):_.push(L)}var z=Qe.nodes(e,{at:c,match:function(t){return pt.isText(t)||Qe.isInline(e,t)},mode:"highest",voids:i}),q=b(z,1)[0],V=b(q,2)[1],$=Qe.isStart(e,c,V),U=Qe.isEnd(e,c,V),W=Qe.pathRef(e,y&&!_.length?B.next(h):h),G=Qe.pathRef(e,U?B.next(V):V);Zt.splitNodes(e,{at:c,match:function(t){return I?qe.isElement(t)&&Qe.isBlock(e,t):pt.isText(t)||Qe.isInline(e,t)},mode:I?"lowest":"highest",always:I&&(!C||S.length>0)&&(!y||_.length>0),voids:i});var J,K=Qe.pathRef(e,!$||$&&U?B.next(V):V);if(Zt.insertNodes(e,S,{at:K.current,match:function(t){return pt.isText(t)||Qe.isInline(e,t)},mode:"highest",voids:i}),A&&!S.length&&N.length&&!_.length&&Zt.delete(e,{at:h,voids:i}),Zt.insertNodes(e,N,{at:W.current,match:function(t){return qe.isElement(t)&&Qe.isBlock(e,t)},mode:"lowest",voids:i}),Zt.insertNodes(e,_,{at:G.current,match:function(t){return pt.isText(t)||Qe.isInline(e,t)},mode:"highest",voids:i}),!r.at)if(_.length>0&&G.current?J=B.previous(G.current):N.length>0&&W.current?J=B.previous(W.current):K.current&&(J=B.previous(K.current)),J){var Z=Qe.end(e,J);Zt.select(e,Z)}K.unref(),W.unref(),G.unref()}}}))},Jn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.edge,n=void 0===r?"anchor":r,u=e.selection;if(u)if("anchor"===n)Zt.select(e,u.anchor);else if("focus"===n)Zt.select(e,u.focus);else if("start"===n){var o=Le.edges(u),i=b(o,1),a=i[0];Zt.select(e,a)}else if("end"===n){var c=Le.edges(u),s=b(c,2),f=s[1];Zt.select(e,f)}},Kn=function(e){var t=e.selection;t&&e.apply({type:"set_selection",properties:t,newProperties:null})},Zn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.selection,n=t.distance,u=void 0===n?1:n,o=t.unit,i=void 0===o?"character":o,a=t.reverse,c=void 0!==a&&a,s=t.edge,f=void 0===s?null:s;if(r){"start"===f&&(f=Le.isBackward(r)?"focus":"anchor"),"end"===f&&(f=Le.isBackward(r)?"anchor":"focus");var l=r.anchor,D=r.focus,p={distance:u,unit:i,ignoreNonSelectable:!0},d={};if(null==f||"anchor"===f){var v=c?Qe.before(e,l,p):Qe.after(e,l,p);v&&(d.anchor=v)}if(null==f||"focus"===f){var h=c?Qe.before(e,D,p):Qe.after(e,D,p);h&&(d.focus=h)}Zt.setSelection(e,d)}},Yn=function(e,t){var r=e.selection;if(t=Qe.range(e,t),r)Zt.setSelection(e,t);else{if(!Le.isRange(t))throw new Error("When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: ".concat(it.stringify(t)));e.apply({type:"set_selection",properties:r,newProperties:t})}};function Xn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Hn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Xn(Object(r),!0).forEach((function(t){A(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Qn=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=e.selection,u=r.edge,o=void 0===u?"both":u;if(n){"start"===o&&(o=Le.isBackward(n)?"focus":"anchor"),"end"===o&&(o=Le.isBackward(n)?"anchor":"focus");var i=n.anchor,a=n.focus,c="anchor"===o?i:a;Zt.setSelection(e,A({},"anchor"===o?"anchor":"focus",Hn(Hn({},c),t)))}},eu=function(e,t){var r=e.selection,n={},u={};if(r){for(var o in t)("anchor"===o&&null!=t.anchor&&!ut.equals(t.anchor,r.anchor)||"focus"===o&&null!=t.focus&&!ut.equals(t.focus,r.focus)||"anchor"!==o&&"focus"!==o&&t[o]!==r[o])&&(n[o]=r[o],u[o]=t[o]);Object.keys(n).length>0&&e.apply({type:"set_selection",properties:n,newProperties:u})}};function tu(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return ru(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ru(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,u=function(){};return{s:u,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:u}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw o}}}}function ru(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var nu=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Qe.withoutNormalizing(e,(function(){var n=r.hanging,u=void 0!==n&&n,o=r.voids,i=void 0!==o&&o,a=r.mode,c=void 0===a?"lowest":a,s=r.at,f=r.match,l=r.select;if(Je.isNode(t)&&(t=[t]),0!==t.length){var D=b(t,1)[0];if(s||(s=dt(e),l=!0),null==l&&(l=!1),Le.isRange(s))if(u||(s=Qe.unhangRange(e,s,{voids:i})),Le.isCollapsed(s))s=s.anchor;else{var p=Le.edges(s),d=b(p,2)[1],v=Qe.pointRef(e,d);Zt.delete(e,{at:s}),s=v.unref()}if(ut.isPoint(s)){null==f&&(f=pt.isText(D)?function(e){return pt.isText(e)}:e.isInline(D)?function(t){return pt.isText(t)||Qe.isInline(e,t)}:function(t){return qe.isElement(t)&&Qe.isBlock(e,t)});var h=Qe.nodes(e,{at:s.path,match:f,mode:c,voids:i}),C=b(h,1)[0];if(!C)return;var y=b(C,2)[1],A=Qe.pathRef(e,y),g=Qe.isEnd(e,s,y);Zt.splitNodes(e,{at:s,match:f,mode:c,voids:i});var m=A.unref();s=g?B.next(m):m}var E=B.parent(s),F=s[s.length-1];if(i||!Qe.void(e,{at:E})){var w,x=tu(t);try{for(x.s();!(w=x.n()).done;){var O=w.value,j=E.concat(F);F++,e.apply({type:"insert_node",path:j,node:O}),s=B.next(s)}}catch(e){x.e(e)}finally{x.f()}if(s=B.previous(s),l){var P=Qe.end(e,s);P&&Zt.select(e,P)}}}}))},uu=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Qe.withoutNormalizing(e,(function(){var r=t.at,n=void 0===r?e.selection:r,u=t.mode,o=void 0===u?"lowest":u,i=t.voids,a=void 0!==i&&i,c=t.match;if(null==c&&(c=B.isPath(n)?vt(e,n):function(t){return qe.isElement(t)&&Qe.isBlock(e,t)}),n)for(var s=Qe.nodes(e,{at:n,match:c,mode:o,voids:a}),f=Array.from(s,(function(t){var r=b(t,2)[1];return Qe.pathRef(e,r)})),l=0,D=f;l<D.length;l++){var p=D[l].unref();if(p.length<2)throw new Error("Cannot lift node at a path [".concat(p,"] because it has a depth of less than `2`."));var d=Qe.node(e,B.parent(p)),v=b(d,2),h=v[0],C=v[1],y=p[p.length-1],A=h.children.length;if(1===A){var g=B.next(C);Zt.moveNodes(e,{at:p,to:g,voids:a}),Zt.removeNodes(e,{at:C,voids:a})}else if(0===y)Zt.moveNodes(e,{at:p,to:C,voids:a});else if(y===A-1){var m=B.next(C);Zt.moveNodes(e,{at:p,to:m,voids:a})}else{var E=B.next(p),F=B.next(C);Zt.splitNodes(e,{at:E,voids:a}),Zt.moveNodes(e,{at:p,to:F,voids:a})}}}))},ou=["text"],iu=["children"],au=function e(t,r){if(qe.isElement(r)){var n=r;return!!Qe.isVoid(t,r)||1===n.children.length&&e(t,n.children[0])}return!Qe.isEditor(r)},cu=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Qe.withoutNormalizing(e,(function(){var r=t.match,n=t.at,u=void 0===n?e.selection:n,o=t.hanging,i=void 0!==o&&o,a=t.voids,c=void 0!==a&&a,s=t.mode,f=void 0===s?"lowest":s;if(u){if(null==r)if(B.isPath(u)){var l=Qe.parent(e,u),D=b(l,1)[0];r=function(e){return D.children.includes(e)}}else r=function(t){return qe.isElement(t)&&Qe.isBlock(e,t)};if(!i&&Le.isRange(u)&&(u=Qe.unhangRange(e,u,{voids:c})),Le.isRange(u))if(Le.isCollapsed(u))u=u.anchor;else{var p=Le.edges(u),d=b(p,2)[1],v=Qe.pointRef(e,d);Zt.delete(e,{at:u}),u=v.unref(),null==t.at&&Zt.select(e,u)}var h=Qe.nodes(e,{at:u,match:r,voids:c,mode:f}),C=b(h,1)[0],y=Qe.previous(e,{at:u,match:r,voids:c,mode:f});if(C&&y){var A=b(C,2),g=A[0],m=A[1],E=b(y,2),F=E[0],w=E[1];if(0!==m.length&&0!==w.length){var x,O,j=B.next(w),P=B.common(m,w),k=B.isSibling(m,w),S=Array.from(Qe.levels(e,{at:m}),(function(e){return b(e,1)[0]})).slice(P.length).slice(0,-1),N=Qe.above(e,{at:m,mode:"highest",match:function(t){return S.includes(t)&&au(e,t)}}),_=N&&Qe.pathRef(e,N[1]);if(pt.isText(g)&&pt.isText(F)){g.text;var R=_e(g,ou);O=F.text.length,x=R}else{if(!qe.isElement(g)||!qe.isElement(F))throw new Error("Cannot merge the node at path [".concat(m,"] with the previous sibling because it is not the same kind: ").concat(it.stringify(g)," ").concat(it.stringify(F)));g.children;var I=_e(g,iu);O=F.children.length,x=I}k||Zt.moveNodes(e,{at:m,to:j,voids:c}),_&&Zt.removeNodes(e,{at:_.current,voids:c}),qe.isElement(F)&&Qe.isEmpty(e,F)||pt.isText(F)&&""===F.text&&0!==w[w.length-1]?Zt.removeNodes(e,{at:w,voids:c}):e.apply({type:"merge_node",path:j,position:O,properties:x}),_&&_.unref()}}}}))},su=function(e,t){Qe.withoutNormalizing(e,(function(){var r=t.to,n=t.at,u=void 0===n?e.selection:n,o=t.mode,i=void 0===o?"lowest":o,a=t.voids,c=void 0!==a&&a,s=t.match;if(u){null==s&&(s=B.isPath(u)?vt(e,u):function(t){return qe.isElement(t)&&Qe.isBlock(e,t)});for(var f=Qe.pathRef(e,r),l=Qe.nodes(e,{at:u,match:s,mode:i,voids:c}),D=Array.from(l,(function(t){var r=b(t,2)[1];return Qe.pathRef(e,r)})),p=0,d=D;p<d.length;p++){var v=d[p].unref(),h=f.current;0!==v.length&&e.apply({type:"move_node",path:v,newPath:h}),f.current&&B.isSibling(h,v)&&B.isAfter(h,v)&&(f.current=B.next(f.current))}f.unref()}}))},fu=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Qe.withoutNormalizing(e,(function(){var r=t.hanging,n=void 0!==r&&r,u=t.voids,o=void 0!==u&&u,i=t.mode,a=void 0===i?"lowest":i,c=t.at,s=void 0===c?e.selection:c,f=t.match;if(s){null==f&&(f=B.isPath(s)?vt(e,s):function(t){return qe.isElement(t)&&Qe.isBlock(e,t)}),!n&&Le.isRange(s)&&(s=Qe.unhangRange(e,s,{voids:o}));for(var l=Qe.nodes(e,{at:s,match:f,mode:a,voids:o}),D=Array.from(l,(function(t){var r=b(t,2)[1];return Qe.pathRef(e,r)})),p=0,d=D;p<d.length;p++){var v=d[p].unref();if(v){var h=Qe.node(e,v),C=b(h,1)[0];e.apply({type:"remove_node",path:v,node:C})}}}}))};function lu(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return Du(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Du(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,u=function(){};return{s:u,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:u}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw o}}}}function Du(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var pu=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Qe.withoutNormalizing(e,(function(){var n=r.match,u=r.at,o=void 0===u?e.selection:u,i=r.compare,a=r.merge,c=r.hanging,s=void 0!==c&&c,f=r.mode,l=void 0===f?"lowest":f,D=r.split,p=void 0!==D&&D,d=r.voids,v=void 0!==d&&d;if(o){if(null==n&&(n=B.isPath(o)?vt(e,o):function(t){return qe.isElement(t)&&Qe.isBlock(e,t)}),!s&&Le.isRange(o)&&(o=Qe.unhangRange(e,o,{voids:v})),p&&Le.isRange(o)){if(Le.isCollapsed(o)&&Qe.leaf(e,o.anchor)[0].text.length>0)return;var h=Qe.rangeRef(e,o,{affinity:"inward"}),C=Le.edges(o),y=b(C,2),A=y[0],g=y[1],m="lowest"===l?"lowest":"highest",E=Qe.isEnd(e,g,g.path);Zt.splitNodes(e,{at:g,match:n,mode:m,voids:v,always:!E});var F=Qe.isStart(e,A,A.path);Zt.splitNodes(e,{at:A,match:n,mode:m,voids:v,always:!F}),o=h.unref(),null==r.at&&Zt.select(e,o)}i||(i=function(e,t){return e!==t});var w,x=lu(Qe.nodes(e,{at:o,match:n,mode:l,voids:v}));try{for(x.s();!(w=x.n()).done;){var O=b(w.value,2),j=O[0],P=O[1],k={},S={};if(0!==P.length){var N=!1;for(var _ in t)"children"!==_&&"text"!==_&&i(t[_],j[_])&&(N=!0,j.hasOwnProperty(_)&&(k[_]=j[_]),a?null!=t[_]&&(S[_]=a(j[_],t[_])):null!=t[_]&&(S[_]=t[_]));N&&e.apply({type:"set_node",path:P,properties:k,newProperties:S})}}}catch(e){x.e(e)}finally{x.f()}}}))};function du(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return vu(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vu(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,u=function(){};return{s:u,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:u}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw o}}}}function vu(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var hu=function(e,t){if(Le.isCollapsed(t))return t.anchor;var r=Le.edges(t),n=b(r,2)[1],u=Qe.pointRef(e,n);return Zt.delete(e,{at:t}),u.unref()},Cu=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Qe.withoutNormalizing(e,(function(){var r=t.mode,n=void 0===r?"lowest":r,u=t.voids,o=void 0!==u&&u,i=t.match,a=t.at,c=void 0===a?e.selection:a,s=t.height,f=void 0===s?0:s,l=t.always,D=void 0!==l&&l;if(null==i&&(i=function(t){return qe.isElement(t)&&Qe.isBlock(e,t)}),Le.isRange(c)&&(c=hu(e,c)),B.isPath(c)){var p=c,d=Qe.point(e,p),v=Qe.parent(e,p),h=b(v,1)[0];i=function(e){return e===h},f=d.path.length-p.length+1,c=d,D=!0}if(c){var C,y=Qe.pointRef(e,c,{affinity:"backward"});try{var A=Qe.nodes(e,{at:c,match:i,mode:n,voids:o}),g=b(A,1)[0];if(!g)return;var m=Qe.void(e,{at:c,mode:"highest"});if(!o&&m){var E=b(m,2),F=E[0],w=E[1];if(qe.isElement(F)&&e.isInline(F)){var x=Qe.after(e,w);if(!x){var O=B.next(w);Zt.insertNodes(e,{text:""},{at:O,voids:o}),x=Qe.point(e,O)}c=x,D=!0}f=c.path.length-w.length+1,D=!0}C=Qe.pointRef(e,c);var j,P=c.path.length-f,k=b(g,2)[1],S=c.path.slice(0,P),N=0===f?c.offset:c.path[P]+0,_=du(Qe.levels(e,{at:S,reverse:!0,voids:o}));try{for(_.s();!(j=_.n()).done;){var R=b(j.value,2),I=R[0],T=R[1],M=!1;if(T.length<k.length||0===T.length||!o&&qe.isElement(I)&&Qe.isVoid(e,I))break;var L=y.current,z=Qe.isEnd(e,L,T);if(D||!y||!Qe.isEdge(e,L,T)){M=!0;var q=Je.extractProps(I);e.apply({type:"split_node",path:T,position:N,properties:q})}N=T[T.length-1]+(M||z?1:0)}}catch(e){_.e(e)}finally{_.f()}if(null==t.at){var V=C.current||Qe.end(e,[]);Zt.select(e,V)}}finally{var $;y.unref(),null===($=C)||void 0===$||$.unref()}}}))};function yu(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return Bu(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Bu(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,u=function(){};return{s:u,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:u}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw o}}}}function Bu(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Au=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Array.isArray(t)||(t=[t]);var n,u={},o=yu(t);try{for(o.s();!(n=o.n()).done;){var i=n.value;u[i]=null}}catch(e){o.e(e)}finally{o.f()}Zt.setNodes(e,u,r)};function gu(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return mu(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mu(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,u=function(){};return{s:u,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:u}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw o}}}}function mu(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Eu=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Qe.withoutNormalizing(e,(function(){var r=t.mode,n=void 0===r?"lowest":r,u=t.split,o=void 0!==u&&u,i=t.voids,a=void 0!==i&&i,c=t.at,s=void 0===c?e.selection:c,f=t.match;if(s){null==f&&(f=B.isPath(s)?vt(e,s):function(t){return qe.isElement(t)&&Qe.isBlock(e,t)}),B.isPath(s)&&(s=Qe.range(e,s));var l,D=Le.isRange(s)?Qe.rangeRef(e,s):null,p=Qe.nodes(e,{at:s,match:f,mode:n,voids:a}),d=Array.from(p,(function(t){var r=b(t,2)[1];return Qe.pathRef(e,r)})).reverse(),v=gu(d);try{var h=function(){var t=l.value.unref(),r=Qe.node(e,t),n=b(r,1)[0],u=Qe.range(e,t);o&&D&&(u=Le.intersection(D.current,u)),Zt.liftNodes(e,{at:u,match:function(e){return qe.isAncestor(n)&&n.children.includes(e)},voids:a})};for(v.s();!(l=v.n()).done;)h()}catch(e){v.e(e)}finally{v.f()}D&&D.unref()}}))};function Fu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function bu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Fu(Object(r),!0).forEach((function(t){A(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fu(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var wu=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Qe.withoutNormalizing(e,(function(){var n=r.mode,u=void 0===n?"lowest":n,o=r.split,i=void 0!==o&&o,a=r.voids,c=void 0!==a&&a,s=r.match,f=r.at,l=void 0===f?e.selection:f;if(l){if(null==s&&(s=B.isPath(l)?vt(e,l):e.isInline(t)?function(t){return qe.isElement(t)&&Qe.isInline(e,t)||pt.isText(t)}:function(t){return qe.isElement(t)&&Qe.isBlock(e,t)}),i&&Le.isRange(l)){var D=Le.edges(l),p=b(D,2),d=p[0],v=p[1],h=Qe.rangeRef(e,l,{affinity:"inward"});Zt.splitNodes(e,{at:v,match:s,voids:c}),Zt.splitNodes(e,{at:d,match:s,voids:c}),l=h.unref(),null==r.at&&Zt.select(e,l)}for(var C=Array.from(Qe.nodes(e,{at:l,match:e.isInline(t)?function(t){return qe.isElement(t)&&Qe.isBlock(e,t)}:function(e){return Qe.isEditor(e)},mode:"lowest",voids:c})),y=0,A=C;y<A.length;y++){var g=b(A[y],2)[1],m=Le.isRange(l)?Le.intersection(l,Qe.range(e,g)):l;if(m){var E=Array.from(Qe.nodes(e,{at:m,match:s,mode:u,voids:c}));if(E.length>0){var F=function(){var r=b(E,1)[0],n=E[E.length-1],u=b(r,2)[1],o=b(n,2)[1];if(0===u.length&&0===o.length)return"continue";var i=B.equals(u,o)?B.parent(u):B.common(u,o),a=Qe.range(e,u,o),s=Qe.node(e,i),f=b(s,1)[0],l=i.length+1,D=B.next(o.slice(0,l)),p=bu(bu({},t),{},{children:[]});Zt.insertNodes(e,p,{at:D,voids:c}),Zt.moveNodes(e,{at:a,match:function(e){return qe.isAncestor(f)&&f.children.includes(e)},to:D.concat(0),voids:c})}();if("continue"===F)continue}}}}}))};e.Editor=Qe,e.Element=qe,e.Location=et,e.Node=Je,e.Operation=Ye,e.Path=B,e.PathRef=t,e.Point=ut,e.PointRef=r,e.Range=Le,e.RangeRef=n,e.Scrubber=it,e.Span=tt,e.Text=pt,e.Transforms=Zt,e.above=ar,e.addMark=fr,e.after=vr,e.apply=Ht,e.before=Ar,e.collapse=Jn,e.createEditor=function(){var e={children:[],operations:[],selection:null,marks:null,isElementReadOnly:function(){return!1},isInline:function(){return!1},isSelectable:function(){return!0},isVoid:function(){return!1},markableVoid:function(){return!1},onChange:function(){},apply:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Ht.apply(void 0,[e].concat(r))},addMark:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return fr.apply(void 0,[e].concat(r))},deleteBackward:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return gr.apply(void 0,[e].concat(r))},deleteForward:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return mr.apply(void 0,[e].concat(r))},deleteFragment:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Er.apply(void 0,[e].concat(r))},getFragment:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return rr.apply(void 0,[e].concat(r))},insertBreak:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Mr.apply(void 0,[e].concat(r))},insertSoftBreak:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return zr.apply(void 0,[e].concat(r))},insertFragment:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Gn.apply(void 0,[e].concat(r))},insertNode:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Lr.apply(void 0,[e].concat(r))},insertText:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return $r.apply(void 0,[e].concat(r))},normalizeNode:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return nr.apply(void 0,[e].concat(r))},removeMark:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return kn.apply(void 0,[e].concat(r))},getDirtyPaths:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return tr.apply(void 0,[e].concat(r))},shouldNormalize:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return ur.apply(void 0,[e].concat(r))},above:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return ar.apply(void 0,[e].concat(r))},after:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return vr.apply(void 0,[e].concat(r))},before:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Ar.apply(void 0,[e].concat(r))},collapse:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Jn.apply(void 0,[e].concat(r))},delete:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return $n.apply(void 0,[e].concat(r))},deselect:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Kn.apply(void 0,[e].concat(r))},edges:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Fr.apply(void 0,[e].concat(r))},elementReadOnly:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return xr.apply(void 0,[e].concat(r))},end:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Or.apply(void 0,[e].concat(r))},first:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return jr.apply(void 0,[e].concat(r))},fragment:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Pr.apply(void 0,[e].concat(r))},getMarks:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return un.apply(void 0,[e].concat(r))},hasBlocks:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return _r.apply(void 0,[e].concat(r))},hasInlines:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Rr.apply(void 0,[e].concat(r))},hasPath:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Ir.apply(void 0,[e].concat(r))},hasTexts:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Tr.apply(void 0,[e].concat(r))},insertNodes:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return nu.apply(void 0,[e].concat(r))},isBlock:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Ur.apply(void 0,[e].concat(r))},isEdge:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Wr.apply(void 0,[e].concat(r))},isEmpty:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Gr.apply(void 0,[e].concat(r))},isEnd:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Jr.apply(void 0,[e].concat(r))},isNormalizing:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Kr.apply(void 0,[e].concat(r))},isStart:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Zr.apply(void 0,[e].concat(r))},last:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Yr.apply(void 0,[e].concat(r))},leaf:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Xr.apply(void 0,[e].concat(r))},levels:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return tn.apply(void 0,[e].concat(r))},liftNodes:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return uu.apply(void 0,[e].concat(r))},mergeNodes:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return cu.apply(void 0,[e].concat(r))},move:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Zn.apply(void 0,[e].concat(r))},moveNodes:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return su.apply(void 0,[e].concat(r))},next:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return on.apply(void 0,[e].concat(r))},node:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return an.apply(void 0,[e].concat(r))},nodes:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return ln.apply(void 0,[e].concat(r))},normalize:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return dn.apply(void 0,[e].concat(r))},parent:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return vn.apply(void 0,[e].concat(r))},path:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return yn.apply(void 0,[e].concat(r))},pathRef:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return hn.apply(void 0,[e].concat(r))},pathRefs:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Cn.apply(void 0,[e].concat(r))},point:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return gn.apply(void 0,[e].concat(r))},pointRef:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Bn.apply(void 0,[e].concat(r))},pointRefs:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return An.apply(void 0,[e].concat(r))},positions:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return bn.apply(void 0,[e].concat(r))},previous:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return wn.apply(void 0,[e].concat(r))},range:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return jn.apply(void 0,[e].concat(r))},rangeRef:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return xn.apply(void 0,[e].concat(r))},rangeRefs:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return On.apply(void 0,[e].concat(r))},removeNodes:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return fu.apply(void 0,[e].concat(r))},select:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Yn.apply(void 0,[e].concat(r))},setNodes:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return pu.apply(void 0,[e].concat(r))},setNormalizing:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Sn.apply(void 0,[e].concat(r))},setPoint:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Qn.apply(void 0,[e].concat(r))},setSelection:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return eu.apply(void 0,[e].concat(r))},splitNodes:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Cu.apply(void 0,[e].concat(r))},start:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Nn.apply(void 0,[e].concat(r))},string:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return In.apply(void 0,[e].concat(r))},unhangRange:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Ln.apply(void 0,[e].concat(r))},unsetNodes:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Au.apply(void 0,[e].concat(r))},unwrapNodes:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Eu.apply(void 0,[e].concat(r))},void:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Nr.apply(void 0,[e].concat(r))},withoutNormalizing:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return zn.apply(void 0,[e].concat(r))},wrapNodes:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return wu.apply(void 0,[e].concat(r))}};return e},e.deleteBackward=gr,e.deleteForward=mr,e.deleteFragment=Er,e.deleteText=$n,e.deselect=Kn,e.edges=Fr,e.elementReadOnly=xr,e.end=Or,e.first=jr,e.fragment=Pr,e.getDirtyPaths=tr,e.getFragment=rr,e.getVoid=Nr,e.hasBlocks=_r,e.hasInlines=Rr,e.hasPath=Ir,e.hasTexts=Tr,e.insertBreak=Mr,e.insertFragment=Gn,e.insertNode=Lr,e.insertNodes=nu,e.insertSoftBreak=zr,e.insertText=$r,e.isBlock=Ur,e.isEdge=Wr,e.isEditor=He,e.isEmpty=Gr,e.isEnd=Jr,e.isNormalizing=Kr,e.isStart=Zr,e.last=Yr,e.leaf=Xr,e.levels=tn,e.liftNodes=uu,e.marks=un,e.mergeNodes=cu,e.move=Zn,e.moveNodes=su,e.next=on,e.node=an,e.nodes=ln,e.normalize=dn,e.normalizeNode=nr,e.parent=vn,e.path=yn,e.pathRef=hn,e.pathRefs=Cn,e.point=gn,e.pointRef=Bn,e.pointRefs=An,e.positions=bn,e.previous=wn,e.range=jn,e.rangeRef=xn,e.rangeRefs=On,e.removeMark=kn,e.removeNodes=fu,e.select=Yn,e.setNodes=pu,e.setNormalizing=Sn,e.setPoint=Qn,e.setSelection=eu,e.shouldNormalize=ur,e.splitNodes=Cu,e.start=Nn,e.string=In,e.unhangRange=Ln,e.unsetNodes=Au,e.unwrapNodes=Eu,e.withoutNormalizing=zn,e.wrapNodes=wu,Object.defineProperty(e,"__esModule",{value:!0})}));
