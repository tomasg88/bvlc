import {SchemaType} from '@sanity/types'
import type {SchemaTypeDefinition} from '@sanity/types'

/**
 * @internal
 */
export declare type FIXME = any

/**
 * @internal
 */
export declare function groupProblems(types: SchemaTypeDefinition[]): TypeWithProblems[]

export declare const isActionEnabled: (schemaType: SchemaType, action: string) => boolean

/**
 * @internal
 */
export declare type ProblemPath = ProblemPathSegment[]

/**
 * @internal
 */
export declare interface ProblemPathPropertySegment {
  kind: 'property'
  name: string
}

/**
 * @internal
 */
export declare type ProblemPathSegment = ProblemPathTypeSegment | ProblemPathPropertySegment

/**
 * @internal
 */
export declare interface ProblemPathTypeSegment {
  kind: 'type'
  type: SchemaType
  name: string
}

/**
 * @internal
 */
declare interface SchemaValidationResult {
  severity: 'warning' | 'info' | 'error'
  message: string
  helpId?: string
}
export {SchemaValidationResult as Problem}
export {SchemaValidationResult as ValidationResult}

/**
 * @internal
 */
export declare interface TypeWithProblems {
  path: ProblemPath
  problems: SchemaValidationResult[]
}

/**
 * @internal
 */
export declare function validateSchema(schemaTypes: FIXME): {
  get(typeName: string): any
  has(typeName: string): boolean
  getTypeNames(): string[]
  getTypes(): any
  toJSON(): any
}

export {}
